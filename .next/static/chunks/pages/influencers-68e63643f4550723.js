(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[246],{8014:function(e,t,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/influencers",function(){return r(2519)}])},8082:function(e,t,r){"use strict";r.d(t,{Cd:function(){return d},X:function(){return c},bZ:function(){return o}});var n=r(5893),a=r(7294),i=r(5139),l=r(108);let s=(0,i.j)("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),o=a.forwardRef((e,t)=>{let{className:r,variant:a,...i}=e;return(0,n.jsx)("div",{ref:t,role:"alert",className:(0,l.cn)(s({variant:a}),r),...i})});o.displayName="Alert";let d=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,n.jsx)("h5",{ref:t,className:(0,l.cn)("mb-1 font-medium leading-none tracking-tight",r),...a})});d.displayName="AlertTitle";let c=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,n.jsx)("div",{ref:t,className:(0,l.cn)("text-sm [&_p]:leading-relaxed",r),...a})});c.displayName="AlertDescription"},7245:function(e,t,r){"use strict";r.d(t,{z:function(){return d}});var n=r(5893),a=r(7294),i=r(8426),l=r(5139),s=r(108);let o=(0,l.j)("inline-flex items-center justify-center rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:opacity-50 disabled:pointer-events-none ring-offset-background",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"underline-offset-4 hover:underline text-primary"},size:{default:"h-10 py-2 px-4",sm:"h-9 px-3 rounded-md",lg:"h-11 px-8 rounded-md"}},defaultVariants:{variant:"default",size:"default"}}),d=a.forwardRef((e,t)=>{let{className:r,variant:a,size:l,asChild:d=!1,...c}=e,u=d?i.g7:"button";return(0,n.jsx)(u,{className:(0,s.cn)(o({variant:a,size:l,className:r})),ref:t,...c})});d.displayName="Button"},4680:function(e,t,r){"use strict";r.d(t,{Ol:function(){return s},SZ:function(){return d},Zb:function(){return l},aY:function(){return c},ll:function(){return o}});var n=r(5893),a=r(7294),i=r(108);let l=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,n.jsx)("div",{ref:t,className:(0,i.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",r),...a})});l.displayName="Card";let s=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,n.jsx)("div",{ref:t,className:(0,i.cn)("flex flex-col space-y-1.5 p-6",r),...a})});s.displayName="CardHeader";let o=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,n.jsx)("h3",{ref:t,className:(0,i.cn)("text-2xl font-semibold leading-none tracking-tight",r),...a})});o.displayName="CardTitle";let d=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,n.jsx)("p",{ref:t,className:(0,i.cn)("text-sm text-muted-foreground",r),...a})});d.displayName="CardDescription";let c=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,n.jsx)("div",{ref:t,className:(0,i.cn)("p-6 pt-0",r),...a})});c.displayName="CardContent",a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,n.jsx)("div",{ref:t,className:(0,i.cn)("flex items-center p-6 pt-0",r),...a})}).displayName="CardFooter"},1774:function(e,t,r){"use strict";r.d(t,{I:function(){return l}});var n=r(5893),a=r(7294),i=r(108);let l=a.forwardRef((e,t)=>{let{className:r,type:a,...l}=e;return(0,n.jsx)("input",{type:a,className:(0,i.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",r),ref:t,...l})});l.displayName="Input"},4193:function(e,t,r){"use strict";r.d(t,{_:function(){return s}});var n=r(5893),a=r(7294),i=r(9102),l=r(108);let s=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,n.jsx)(i.f,{ref:t,className:(0,l.cn)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70",r),...a})});s.displayName=i.f.displayName},8659:function(e,t,r){"use strict";r.d(t,{Bw:function(){return f},Ph:function(){return d},Ql:function(){return m},i4:function(){return u},ki:function(){return c}});var n=r(5893),a=r(7294),i=r(9560),l=r(2171),s=r(8865),o=r(108);let d=i.fC;i.ZA;let c=i.B4,u=a.forwardRef((e,t)=>{let{className:r,children:a,...s}=e;return(0,n.jsxs)(i.xz,{ref:t,className:(0,o.cn)("flex h-10 w-full items-center justify-between rounded-md border border-input bg-transparent px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",r),...s,children:[a,(0,n.jsx)(i.JO,{asChild:!0,children:(0,n.jsx)(l.Z,{className:"h-4 w-4 opacity-50"})})]})});u.displayName=i.xz.displayName;let f=a.forwardRef((e,t)=>{let{className:r,children:a,position:l="popper",...s}=e;return(0,n.jsx)(i.h_,{children:(0,n.jsx)(i.VY,{ref:t,className:(0,o.cn)("relative z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md animate-in fade-in-80","popper"===l&&"translate-y-1",r),position:l,...s,children:(0,n.jsx)(i.l_,{className:(0,o.cn)("p-1","popper"===l&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:a})})})});f.displayName=i.VY.displayName,a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,n.jsx)(i.__,{ref:t,className:(0,o.cn)("py-1.5 pl-8 pr-2 text-sm font-semibold",r),...a})}).displayName=i.__.displayName;let m=a.forwardRef((e,t)=>{let{className:r,children:a,...l}=e;return(0,n.jsxs)(i.ck,{ref:t,className:(0,o.cn)("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",r),...l,children:[(0,n.jsx)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,n.jsx)(i.wU,{children:(0,n.jsx)(s.Z,{className:"h-4 w-4"})})}),(0,n.jsx)(i.eT,{children:a})]})});m.displayName=i.ck.displayName,a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,n.jsx)(i.Z0,{ref:t,className:(0,o.cn)("-mx-1 my-1 h-px bg-muted",r),...a})}).displayName=i.Z0.displayName},2519:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return x}});var n=r(5893),a=r(7294),i=r(4680),l=r(1774),s=r(4193),o=r(7245),d=r(8659),c=r(321),u=r(9284),f=r(3114),m=r(8082);let p=(0,r(1134).Z)("CircleCheck",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]),h=["PRODUCTIVITY_AND_ORGANIZATION","TECH_AND_SOFTWARE","BUSINESS_AND_ENTREPRENEURSHIP","LIFESTYLE_AND_VLOGS","HEALTH_AND_WELLNESS","EDUCATION_AND_CAREER","ARTS_AND_CRAFTS","FASHION_AND_BEAUTY","TRAVEL_AND_CULTURE","HOME_AND_DESIGN","FINANCE_AND_INVESTING","PHILOSOPHY_AND_PERSONAL_DEVELOPMENT","ENTERTAINMENT_AND_MEDIA","OTHER"],g=["USA","Canada","Spain","Philippines","India","Australia","UK","Germany","France","Brazil","Other"],y=["English","Spanish","Turkish","Urdu","Hindi","Other"];function x(){let[e,t]=(0,a.useState)("add"),[r,x]=(0,a.useState)([]),[N,v]=(0,a.useState)(null),[j,b]=(0,a.useState)({channelName:"",channelYoutubeId:"",category:"",avgViews:0,engagementRate:0,topCountriesProportion:0,maleFollowers:0,followerGrowthRate:0,englishSpeakingFollowers:0,country:"",language:""}),[w,E]=(0,a.useState)(!1),[_,C]=(0,a.useState)(""),[R,A]=(0,a.useState)(""),[S,I]=(0,a.useState)("");(0,a.useEffect)(()=>{O()},[]);let O=async()=>{try{let e=await fetch("/api/influencers"),t=await e.json();x(t)}catch(e){console.error("Error fetching influencers:",e),(0,c.Am)({title:"Error",description:"Failed to fetch influencers. Please try again.",variant:"destructive"})}},k=e=>{let{name:t,value:r}=e.target;b(e=>({...e,[t]:"category"===t?r:Number(r)||r}))},T=async t=>{t.preventDefault();let r={...j,country:"Other"===j.country?R:j.country,language:"Other"===j.language?S:j.language};try{let t="add"===e?"/api/influencers":"/api/influencers/".concat(null==N?void 0:N.id),n="add"===e?"POST":"PUT";if((await fetch(t,{method:n,headers:{"Content-Type":"application/json"},body:JSON.stringify(r)})).ok)(0,c.Am)({title:"Success",description:"Influencer ".concat("add"===e?"added":"updated"," successfully.")}),O(),"add"===e&&(E(!0),setTimeout(()=>E(!1),5e3)),b({channelName:"",channelYoutubeId:"",category:"",avgViews:0,engagementRate:0,topCountriesProportion:0,maleFollowers:0,followerGrowthRate:0,englishSpeakingFollowers:0,country:"",language:""}),v(null),C(""),A(""),I("");else throw Error("Failed to ".concat(e," influencer"))}catch(t){console.error("Error ".concat(e,"ing influencer:"),t),(0,c.Am)({title:"Error",description:"Failed to ".concat(e," influencer. Please try again."),variant:"destructive"})}};return(0,n.jsxs)(u.E.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.5},className:"container mx-auto py-8",children:[(0,n.jsx)("h1",{className:"text-3xl font-bold mb-8",children:"Manage Influencers"}),(0,n.jsxs)("div",{className:"mb-8 flex space-x-4",children:[(0,n.jsx)(o.z,{onClick:()=>t("add"),variant:"add"===e?"default":"outline",className:"w-40 transition-all duration-300 ease-in-out",children:"Add Influencer"}),(0,n.jsx)(o.z,{onClick:()=>t("update"),variant:"update"===e?"default":"outline",className:"w-40 transition-all duration-300 ease-in-out",children:"Update Influencer"})]}),(0,n.jsxs)(f.M,{mode:"wait",children:[w&&(0,n.jsx)(u.E.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.3},className:"mb-4",children:(0,n.jsxs)(m.bZ,{children:[(0,n.jsx)(p,{className:"h-4 w-4"}),(0,n.jsx)(m.Cd,{children:"Success"}),(0,n.jsx)(m.X,{children:"Influencer has been successfully added."})]})}),(0,n.jsx)(u.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.3},children:(0,n.jsxs)(i.Zb,{className:"shadow-lg",children:[(0,n.jsx)(i.Ol,{children:(0,n.jsx)(i.ll,{className:"text-2xl",children:"add"===e?"Add New Influencer":"Update Influencer"})}),(0,n.jsxs)(i.aY,{children:["update"===e&&(0,n.jsxs)(u.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3,delay:.1},className:"mb-6",children:[(0,n.jsx)(s._,{htmlFor:"selectInfluencer",className:"text-lg mb-2 block",children:"Select Influencer to Update"}),(0,n.jsxs)(d.Ph,{onValueChange:e=>{let t=r.find(t=>t.id===parseInt(e));t&&(v(t),b(t),g.includes(t.country)||A(t.country),y.includes(t.language)||I(t.language))},children:[(0,n.jsx)(d.i4,{id:"selectInfluencer",className:"w-full",children:(0,n.jsx)(d.ki,{placeholder:"Select an influencer"})}),(0,n.jsx)(d.Bw,{children:r.map(e=>{var t;return(0,n.jsx)(d.Ql,{value:(null===(t=e.id)||void 0===t?void 0:t.toString())||"",children:e.channelName},e.id)})})]})]}),(0,n.jsxs)("form",{onSubmit:T,className:"space-y-6",children:[(0,n.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[Object.entries(j).map((e,t)=>{let[r,a]=e;return"id"!==r&&"category"!==r&&"country"!==r&&"language"!==r&&(0,n.jsxs)(u.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3,delay:.05*t},className:"space-y-2",children:[(0,n.jsx)(s._,{htmlFor:r,className:"text-sm font-medium",children:r.charAt(0).toUpperCase()+r.slice(1).replace(/([A-Z])/g," $1")}),(0,n.jsx)(l.I,{id:r,name:r,type:"number"==typeof a?"number":"text",value:a,onChange:k,required:!0,step:r.includes("Rate")||r.includes("Proportion")?"0.01":"1",className:"w-full p-2 border rounded-md"})]},r)}),(0,n.jsxs)(u.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3,delay:.05},className:"space-y-2",children:[(0,n.jsx)(s._,{htmlFor:"category",className:"text-sm font-medium",children:"Category"}),(0,n.jsxs)(d.Ph,{onValueChange:e=>{b(t=>({...t,category:e})),"OTHER"!==e&&C("")},value:j.category,children:[(0,n.jsx)(d.i4,{id:"category",className:"w-full",children:(0,n.jsx)(d.ki,{placeholder:"Select a category"})}),(0,n.jsx)(d.Bw,{children:h.map(e=>(0,n.jsx)(d.Ql,{value:e,children:e.replace(/_/g," ")},e))})]})]}),"OTHER"===j.category&&(0,n.jsxs)(u.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3,delay:.1},className:"space-y-2",children:[(0,n.jsx)(s._,{htmlFor:"newCategory",className:"text-sm font-medium",children:"New Category"}),(0,n.jsxs)("div",{className:"flex space-x-2",children:[(0,n.jsx)(l.I,{id:"newCategory",value:_,onChange:e=>C(e.target.value),placeholder:"Enter new category",className:"w-full p-2 border rounded-md"}),(0,n.jsx)(o.z,{type:"button",onClick:()=>{_&&"OTHER"===j.category&&(b(e=>({...e,category:_.toUpperCase()})),C(""))},children:"Add"})]})]}),(0,n.jsxs)(u.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3,delay:.15},className:"space-y-2",children:[(0,n.jsx)(s._,{htmlFor:"country",className:"text-sm font-medium",children:"Country"}),(0,n.jsxs)(d.Ph,{onValueChange:e=>{b(t=>({...t,country:e})),"Other"!==e&&A("")},value:j.country,children:[(0,n.jsx)(d.i4,{id:"country",className:"w-full",children:(0,n.jsx)(d.ki,{placeholder:"Select a country"})}),(0,n.jsx)(d.Bw,{children:g.map(e=>(0,n.jsx)(d.Ql,{value:e,children:e},e))})]})]}),"Other"===j.country&&(0,n.jsxs)(u.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3,delay:.2},className:"space-y-2",children:[(0,n.jsx)(s._,{htmlFor:"otherCountry",className:"text-sm font-medium",children:"Other Country"}),(0,n.jsx)(l.I,{id:"otherCountry",value:R,onChange:e=>A(e.target.value),placeholder:"Enter country name",className:"w-full p-2 border rounded-md",required:"Other"===j.country})]}),(0,n.jsxs)(u.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3,delay:.25},className:"space-y-2",children:[(0,n.jsx)(s._,{htmlFor:"language",className:"text-sm font-medium",children:"Language"}),(0,n.jsxs)(d.Ph,{onValueChange:e=>{b(t=>({...t,language:e})),"Other"!==e&&I("")},value:j.language,children:[(0,n.jsx)(d.i4,{id:"language",className:"w-full",children:(0,n.jsx)(d.ki,{placeholder:"Select a language"})}),(0,n.jsx)(d.Bw,{children:y.map(e=>(0,n.jsx)(d.Ql,{value:e,children:e},e))})]})]}),"Other"===j.language&&(0,n.jsxs)(u.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3,delay:.3},className:"space-y-2",children:[(0,n.jsx)(s._,{htmlFor:"otherLanguage",className:"text-sm font-medium",children:"Other Language"}),(0,n.jsx)(l.I,{id:"otherLanguage",value:S,onChange:e=>I(e.target.value),placeholder:"Enter language name",className:"w-full p-2 border rounded-md",required:"Other"===j.language})]})]}),(0,n.jsx)(u.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3,delay:.5},children:(0,n.jsx)(o.z,{type:"submit",className:"w-full",children:"add"===e?"Add Influencer":"Update Influencer"})})]})]})]})},e)]})]})}},3114:function(e,t,r){"use strict";r.d(t,{M:function(){return y}});var n=r(5893),a=r(7294),i=r(240),l=r(6681),s=r(6014);class o extends a.Component{getSnapshotBeforeUpdate(e){let t=this.props.childRef.current;if(t&&e.isPresent&&!this.props.isPresent){let e=this.props.sizeRef.current;e.height=t.offsetHeight||0,e.width=t.offsetWidth||0,e.top=t.offsetTop,e.left=t.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function d({children:e,isPresent:t}){let r=(0,a.useId)(),i=(0,a.useRef)(null),l=(0,a.useRef)({width:0,height:0,top:0,left:0}),{nonce:d}=(0,a.useContext)(s._);return(0,a.useInsertionEffect)(()=>{let{width:e,height:n,top:a,left:s}=l.current;if(t||!i.current||!e||!n)return;i.current.dataset.motionPopId=r;let o=document.createElement("style");return d&&(o.nonce=d),document.head.appendChild(o),o.sheet&&o.sheet.insertRule(`
          [data-motion-pop-id="${r}"] {
            position: absolute !important;
            width: ${e}px !important;
            height: ${n}px !important;
            top: ${a}px !important;
            left: ${s}px !important;
          }
        `),()=>{document.head.removeChild(o)}},[t]),(0,n.jsx)(o,{isPresent:t,childRef:i,sizeRef:l,children:a.cloneElement(e,{ref:i})})}let c=({children:e,initial:t,isPresent:r,onExitComplete:s,custom:o,presenceAffectsLayout:c,mode:f})=>{let m=(0,l.h)(u),p=(0,a.useId)(),h=(0,a.useCallback)(e=>{for(let t of(m.set(e,!0),m.values()))if(!t)return;s&&s()},[m,s]),g=(0,a.useMemo)(()=>({id:p,initial:t,isPresent:r,custom:o,onExitComplete:h,register:e=>(m.set(e,!1),()=>m.delete(e))}),c?[Math.random(),h]:[r,h]);return(0,a.useMemo)(()=>{m.forEach((e,t)=>m.set(t,!1))},[r]),a.useEffect(()=>{r||m.size||!s||s()},[r]),"popLayout"===f&&(e=(0,n.jsx)(d,{isPresent:r,children:e})),(0,n.jsx)(i.O.Provider,{value:g,children:e})};function u(){return new Map}var f=r(5364),m=r(5487);let p=e=>e.key||"";function h(e){let t=[];return a.Children.forEach(e,e=>{(0,a.isValidElement)(e)&&t.push(e)}),t}var g=r(8868);let y=({children:e,exitBeforeEnter:t,custom:r,initial:i=!0,onExitComplete:s,presenceAffectsLayout:o=!0,mode:d="sync"})=>{(0,m.k)(!t,"Replace exitBeforeEnter with mode='wait'");let u=(0,a.useMemo)(()=>h(e),[e]),y=u.map(p),x=(0,a.useRef)(!0),N=(0,a.useRef)(u),v=(0,l.h)(()=>new Map),[j,b]=(0,a.useState)(u),[w,E]=(0,a.useState)(u);(0,g.L)(()=>{x.current=!1,N.current=u;for(let e=0;e<w.length;e++){let t=p(w[e]);y.includes(t)?v.delete(t):!0!==v.get(t)&&v.set(t,!1)}},[w,y.length,y.join("-")]);let _=[];if(u!==j){let e=[...u];for(let t=0;t<w.length;t++){let r=w[t],n=p(r);y.includes(n)||(e.splice(t,0,r),_.push(r))}"wait"===d&&_.length&&(e=_),E(h(e)),b(u);return}let{forceRender:C}=(0,a.useContext)(f.p);return(0,n.jsx)(n.Fragment,{children:w.map(e=>{let t=p(e),a=u===w||y.includes(t);return(0,n.jsx)(c,{isPresent:a,initial:(!x.current||!!i)&&void 0,custom:a?void 0:r,presenceAffectsLayout:o,mode:d,onExitComplete:a?void 0:()=>{if(!v.has(t))return;v.set(t,!0);let e=!0;v.forEach(t=>{t||(e=!1)}),e&&(null==C||C(),E(N.current),s&&s())},children:e},t)})})}}},function(e){e.O(0,[408,888,774,179],function(){return e(e.s=8014)}),_N_E=e.O()}]);