(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[26],{528:function(e,t,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/dashboard",function(){return r(2384)}])},7245:function(e,t,r){"use strict";r.d(t,{z:function(){return d}});var s=r(5893),a=r(7294),n=r(8426),l=r(5139),i=r(108);let o=(0,l.j)("inline-flex items-center justify-center rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:opacity-50 disabled:pointer-events-none ring-offset-background",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"underline-offset-4 hover:underline text-primary"},size:{default:"h-10 py-2 px-4",sm:"h-9 px-3 rounded-md",lg:"h-11 px-8 rounded-md"}},defaultVariants:{variant:"default",size:"default"}}),d=a.forwardRef((e,t)=>{let{className:r,variant:a,size:l,asChild:d=!1,...c}=e,u=d?n.g7:"button";return(0,s.jsx)(u,{className:(0,i.cn)(o({variant:a,size:l,className:r})),ref:t,...c})});d.displayName="Button"},4680:function(e,t,r){"use strict";r.d(t,{Ol:function(){return i},SZ:function(){return d},Zb:function(){return l},aY:function(){return c},ll:function(){return o}});var s=r(5893),a=r(7294),n=r(108);let l=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)("div",{ref:t,className:(0,n.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",r),...a})});l.displayName="Card";let i=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)("div",{ref:t,className:(0,n.cn)("flex flex-col space-y-1.5 p-6",r),...a})});i.displayName="CardHeader";let o=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)("h3",{ref:t,className:(0,n.cn)("text-2xl font-semibold leading-none tracking-tight",r),...a})});o.displayName="CardTitle";let d=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)("p",{ref:t,className:(0,n.cn)("text-sm text-muted-foreground",r),...a})});d.displayName="CardDescription";let c=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)("div",{ref:t,className:(0,n.cn)("p-6 pt-0",r),...a})});c.displayName="CardContent",a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)("div",{ref:t,className:(0,n.cn)("flex items-center p-6 pt-0",r),...a})}).displayName="CardFooter"},5810:function(e,t,r){"use strict";r.d(t,{$N:function(){return f},Be:function(){return h},Vq:function(){return o},cN:function(){return x},cZ:function(){return u},fK:function(){return m}});var s=r(5893),a=r(7294),n=r(2854),l=r(2190),i=r(108);let o=n.fC;n.xz;let d=e=>{let{className:t,...r}=e;return(0,s.jsx)(n.h_,{...r,children:(0,s.jsx)("div",{className:t,children:r.children})})};d.displayName=n.h_.displayName;let c=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)(n.aV,{ref:t,className:(0,i.cn)("fixed inset-0 z-50 bg-background/80 backdrop-blur-sm data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",r),...a})});c.displayName=n.aV.displayName;let u=a.forwardRef((e,t)=>{let{className:r,children:a,...o}=e;return(0,s.jsxs)(d,{children:[(0,s.jsx)(c,{}),(0,s.jsxs)(n.VY,{ref:t,className:(0,i.cn)("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg md:w-full",r),...o,children:[a,(0,s.jsxs)(n.x8,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[(0,s.jsx)(l.Z,{className:"h-4 w-4"}),(0,s.jsx)("span",{className:"sr-only",children:"Close"})]})]})]})});u.displayName=n.VY.displayName;let m=e=>{let{className:t,...r}=e;return(0,s.jsx)("div",{className:(0,i.cn)("flex flex-col space-y-1.5 text-center sm:text-left",t),...r})};m.displayName="DialogHeader";let x=e=>{let{className:t,...r}=e;return(0,s.jsx)("div",{className:(0,i.cn)("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t),...r})};x.displayName="DialogFooter";let f=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)(n.Dx,{ref:t,className:(0,i.cn)("text-lg font-semibold leading-none tracking-tight",r),...a})});f.displayName=n.Dx.displayName;let h=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)(n.dk,{ref:t,className:(0,i.cn)("text-sm text-muted-foreground",r),...a})});h.displayName=n.dk.displayName},4193:function(e,t,r){"use strict";r.d(t,{_:function(){return i}});var s=r(5893),a=r(7294),n=r(9102),l=r(108);let i=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)(n.f,{ref:t,className:(0,l.cn)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70",r),...a})});i.displayName=n.f.displayName},8659:function(e,t,r){"use strict";r.d(t,{Bw:function(){return m},Ph:function(){return d},Ql:function(){return x},i4:function(){return u},ki:function(){return c}});var s=r(5893),a=r(7294),n=r(9560),l=r(2171),i=r(8865),o=r(108);let d=n.fC;n.ZA;let c=n.B4,u=a.forwardRef((e,t)=>{let{className:r,children:a,...i}=e;return(0,s.jsxs)(n.xz,{ref:t,className:(0,o.cn)("flex h-10 w-full items-center justify-between rounded-md border border-input bg-transparent px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",r),...i,children:[a,(0,s.jsx)(n.JO,{asChild:!0,children:(0,s.jsx)(l.Z,{className:"h-4 w-4 opacity-50"})})]})});u.displayName=n.xz.displayName;let m=a.forwardRef((e,t)=>{let{className:r,children:a,position:l="popper",...i}=e;return(0,s.jsx)(n.h_,{children:(0,s.jsx)(n.VY,{ref:t,className:(0,o.cn)("relative z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md animate-in fade-in-80","popper"===l&&"translate-y-1",r),position:l,...i,children:(0,s.jsx)(n.l_,{className:(0,o.cn)("p-1","popper"===l&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:a})})})});m.displayName=n.VY.displayName,a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)(n.__,{ref:t,className:(0,o.cn)("py-1.5 pl-8 pr-2 text-sm font-semibold",r),...a})}).displayName=n.__.displayName;let x=a.forwardRef((e,t)=>{let{className:r,children:a,...l}=e;return(0,s.jsxs)(n.ck,{ref:t,className:(0,o.cn)("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",r),...l,children:[(0,s.jsx)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,s.jsx)(n.wU,{children:(0,s.jsx)(i.Z,{className:"h-4 w-4"})})}),(0,s.jsx)(n.eT,{children:a})]})});x.displayName=n.ck.displayName,a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)(n.Z0,{ref:t,className:(0,o.cn)("-mx-1 my-1 h-px bg-muted",r),...a})}).displayName=n.Z0.displayName},2384:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return q}});var s=r(5893),a=r(7294),n=r(4680),l=r(108);let i=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)("div",{className:"w-full overflow-auto",children:(0,s.jsx)("table",{ref:t,className:(0,l.cn)("w-full caption-bottom text-sm",r),...a})})});i.displayName="Table";let o=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)("thead",{ref:t,className:(0,l.cn)("[&_tr]:border-b",r),...a})});o.displayName="TableHeader";let d=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)("tbody",{ref:t,className:(0,l.cn)("[&_tr:last-child]:border-0",r),...a})});d.displayName="TableBody",a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)("tfoot",{ref:t,className:(0,l.cn)("bg-primary font-medium text-primary-foreground",r),...a})}).displayName="TableFooter";let c=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)("tr",{ref:t,className:(0,l.cn)("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",r),...a})});c.displayName="TableRow";let u=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)("th",{ref:t,className:(0,l.cn)("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",r),...a})});u.displayName="TableHead";let m=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)("td",{ref:t,className:(0,l.cn)("p-4 align-middle [&:has([role=checkbox])]:pr-0",r),...a})});m.displayName="TableCell",a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)("caption",{ref:t,className:(0,l.cn)("mt-4 text-sm text-muted-foreground",r),...a})}).displayName="TableCaption";var x=r(4715),f=r(398),h=r(7017),j=r(5615),p=r(8793),g=r(8807),v=r(4976),b=r(3594),w=r(9176),y=r(4489),N=r(7865),k=r(2426),C=r(6111),S=r(3761),_=r(1707),R=r(9284),Z=r(3520),D=r(321),T=r(5675),O=r.n(T),F=r(7245),E=r(4570),L=r(8042);let V={light:"",dark:".dark"},z=a.createContext(null);function I(){let e=a.useContext(z);if(!e)throw Error("useChart must be used within a <ChartContainer />");return e}let P=a.forwardRef((e,t)=>{let{id:r,className:n,children:i,config:o,...d}=e,c=a.useId(),u="chart-".concat(r||c.replace(/:/g,""));return(0,s.jsx)(z.Provider,{value:{config:o},children:(0,s.jsxs)("div",{"data-chart":u,ref:t,className:(0,l.cn)("flex aspect-video justify-center text-xs [&_.recharts-cartesian-axis-tick_text]:fill-muted-foreground [&_.recharts-cartesian-grid_line[stroke='#ccc']]:stroke-border/50 [&_.recharts-curve.recharts-tooltip-cursor]:stroke-border [&_.recharts-dot[stroke='#fff']]:stroke-transparent [&_.recharts-layer]:outline-none [&_.recharts-polar-grid_[stroke='#ccc']]:stroke-border [&_.recharts-radial-bar-background-sector]:fill-muted [&_.recharts-rectangle.recharts-tooltip-cursor]:fill-muted [&_.recharts-reference-line_[stroke='#ccc']]:stroke-border [&_.recharts-sector[stroke='#fff']]:stroke-transparent [&_.recharts-sector]:outline-none [&_.recharts-surface]:outline-none",n),...d,children:[(0,s.jsx)(Y,{id:u,config:o}),(0,s.jsx)(x.h,{children:i})]})})});P.displayName="Chart";let Y=e=>{let{id:t,config:r}=e,a=Object.entries(r).filter(e=>{let[t,r]=e;return r.theme||r.color});return a.length?(0,s.jsx)("style",{dangerouslySetInnerHTML:{__html:Object.entries(V).map(e=>{let[r,s]=e;return"\n".concat(s," [data-chart=").concat(t,"] {\n").concat(a.map(e=>{var t;let[s,a]=e,n=(null===(t=a.theme)||void 0===t?void 0:t[r])||a.color;return n?"  --color-".concat(s,": ").concat(n,";"):null}).join("\n"),"\n}\n")}).join("\n")}}):null},M=E.u,K=a.forwardRef((e,t)=>{let{active:r,payload:n,className:i,indicator:o="dot",hideLabel:d=!1,hideIndicator:c=!1,label:u,labelFormatter:m,labelClassName:x,formatter:f,color:h,nameKey:j,labelKey:p}=e,{config:g}=I(),v=a.useMemo(()=>{var e;if(d||!(null==n?void 0:n.length))return null;let[t]=n,r="".concat(p||t.dataKey||t.name||"value"),a=B(g,t,r),i=p||"string"!=typeof u?null==a?void 0:a.label:(null===(e=g[u])||void 0===e?void 0:e.label)||u;return m?(0,s.jsx)("div",{className:(0,l.cn)("font-medium",x),children:m(i,n)}):i?(0,s.jsx)("div",{className:(0,l.cn)("font-medium",x),children:i}):null},[u,m,n,d,x,g,p]);if(!r||!(null==n?void 0:n.length))return null;let b=1===n.length&&"dot"!==o;return(0,s.jsxs)("div",{ref:t,className:(0,l.cn)("grid min-w-[8rem] items-start gap-1.5 rounded-lg border border-border/50 bg-background px-2.5 py-1.5 text-xs shadow-xl",i),children:[b?null:v,(0,s.jsx)("div",{className:"grid gap-1.5",children:n.map((e,t)=>{let r="".concat(j||e.name||e.dataKey||"value"),a=B(g,e,r),n=h||e.payload.fill||e.color;return(0,s.jsx)("div",{className:(0,l.cn)("flex w-full flex-wrap items-stretch gap-2 [&>svg]:h-2.5 [&>svg]:w-2.5 [&>svg]:text-muted-foreground","dot"===o&&"items-center"),children:f&&(null==e?void 0:e.value)!==void 0&&e.name?f(e.value,e.name,e,t,e.payload):(0,s.jsxs)(s.Fragment,{children:[(null==a?void 0:a.icon)?(0,s.jsx)(a.icon,{}):!c&&(0,s.jsx)("div",{className:(0,l.cn)("shrink-0 rounded-[2px] border-[--color-border] bg-[--color-bg]",{"h-2.5 w-2.5":"dot"===o,"w-1":"line"===o,"w-0 border-[1.5px] border-dashed bg-transparent":"dashed"===o,"my-0.5":b&&"dashed"===o}),style:{"--color-bg":n,"--color-border":n}}),(0,s.jsxs)("div",{className:(0,l.cn)("flex flex-1 justify-between leading-none",b?"items-end":"items-center"),children:[(0,s.jsxs)("div",{className:"grid gap-1.5",children:[b?v:null,(0,s.jsx)("span",{className:"text-muted-foreground",children:(null==a?void 0:a.label)||e.name})]}),e.value&&(0,s.jsx)("span",{className:"font-mono font-medium tabular-nums text-foreground",children:e.value.toLocaleString()})]})]})},e.dataKey)})})]})});function B(e,t,r){if("object"!=typeof t||null===t)return;let s="payload"in t&&"object"==typeof t.payload&&null!==t.payload?t.payload:void 0,a=r;return r in t&&"string"==typeof t[r]?a=t[r]:s&&r in s&&"string"==typeof s[r]&&(a=s[r]),a in e?e[a]:e[r]}K.displayName="ChartTooltip",L.D,a.forwardRef((e,t)=>{let{className:r,hideIcon:a=!1,payload:n,verticalAlign:i="bottom",nameKey:o}=e,{config:d}=I();return(null==n?void 0:n.length)?(0,s.jsx)("div",{ref:t,className:(0,l.cn)("flex items-center justify-center gap-4","top"===i?"pb-3":"pt-3",r),children:n.map(e=>{let t="".concat(o||e.dataKey||"value"),r=B(d,e,t);return(0,s.jsxs)("div",{className:(0,l.cn)("flex items-center gap-1.5 [&>svg]:h-3 [&>svg]:w-3 [&>svg]:text-muted-foreground"),children:[(null==r?void 0:r.icon)&&!a?(0,s.jsx)(r.icon,{}):(0,s.jsx)("div",{className:"h-2 w-2 shrink-0 rounded-[2px]",style:{backgroundColor:e.color}}),null==r?void 0:r.label]},e.value)})}):null}).displayName="ChartLegend";var H=r(8659),$=r(4193),A=r(5810);let U=e=>{let{value:t,duration:r=2}=e,n=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2,[r,s]=(0,a.useState)(0),n=(0,Z.q)(r,{duration:1e3*t});return(0,a.useEffect)(()=>{n.set(e)},[e,n]),(0,a.useEffect)(()=>n.onChange(s),[n]),Math.round(r)}(t,r);return(0,s.jsx)(s.Fragment,{children:n.toLocaleString()})};function q(){let[e,t]=(0,a.useState)(null),[r,l]=(0,a.useState)([]),[Z,T]=(0,a.useState)([]),[E,L]=(0,a.useState)(!0),[V,z]=(0,a.useState)(null),[I,Y]=(0,a.useState)("postDate"),[B,q]=(0,a.useState)("desc"),[J,Q]=(0,a.useState)("videoCount"),[X,G]=(0,a.useState)(new Date().toISOString().slice(0,7)),[W,ee]=(0,a.useState)(null),[et,er]=(0,a.useState)(!1),[es,ea]=(0,a.useState)(!1),{toast:en}=(0,D.pm)(),el=(0,a.useCallback)(async e=>{L(!0),z(null);try{let[r,s]=e.split("-").map(Number),a=new Date(r,s-1,1),n=new Date(r,s,0),i=await fetch("/api/videos?startDate=".concat(a.toISOString(),"&endDate=").concat(n.toISOString()));if(!i.ok)throw Error("HTTP error! status: ".concat(i.status));let o=(await i.json()).filter(e=>{let t=new Date(e.postDate);return t>=a&&t<=n}),d=o.length,c=o.reduce((e,t)=>e+(t.viewCount||0),0),u=o.reduce((e,t)=>e+(t.clicks||0),0),m=Math.round(.075*u),x=o.reduce((e,t)=>e+(t.cost||0),0),f=x>0?(120*m/x*100).toFixed(2):"0",h={};for(let e=1;e<=n.getDate();e++)h[new Date(r,s-1,e).toISOString().split("T")[0]]={count:0,views:0};o.forEach(e=>{let t=new Date(e.postDate).toISOString().split("T")[0];h[t]&&(h[t].count++,h[t].views+=e.viewCount||0)});let j=Object.entries(h).map(e=>{let[t,r]=e;return{date:t,videoCount:r.count,views:r.views}}).sort((e,t)=>e.date.localeCompare(t.date));t({postedVideos:d,totalViews:c,totalClicks:u,totalConversions:m,roi:parseFloat(f),cost:x,agencyFee:0}),l(o),T(j)}catch(e){console.error("Error fetching dashboard data:",e),z("Failed to fetch dashboard data. Please try again later."),en({title:"Error",description:"Failed to fetch dashboard data. Please try again later.",variant:"destructive"})}finally{L(!1)}},[en]);(0,a.useEffect)(()=>{el(X)},[X,el]);let ei=(0,a.useMemo)(()=>[...r].sort((e,t)=>e[I]<t[I]?"asc"===B?-1:1:e[I]>t[I]?"asc"===B?1:-1:0),[r,I,B]),eo=e=>{e===I?q("asc"===B?"desc":"asc"):(Y(e),q("asc"))},ed={hidden:{y:20,opacity:0},visible:{y:0,opacity:1}},ec=async()=>{ea(!0);try{let e=await Promise.all(r.map(async e=>{let t=await fetch("/api/googledata?videoId=".concat(e.youtubeId));if(!t.ok)throw Error("Failed to fetch data for video ".concat(e.youtubeId));return await t.json()})),s=await fetch("/api/updateVideoMetrics",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({videos:e})});if(!s.ok)throw Error("Failed to update video metrics in the database");let a=await s.json();l(a);let n={};a.forEach(e=>{let t=new Date(e.postDate).toISOString().split("T")[0];n[t]||(n[t]={count:0,views:0}),n[t].count++,n[t].views+=e.viewCount||0});let i=Object.entries(n).map(e=>{let[t,r]=e;return{date:t,videoCount:r.count,views:r.views}}).sort((e,t)=>e.date.localeCompare(t.date));T(i);let o=a.reduce((e,t)=>e+(t.viewCount||0),0),d=a.reduce((e,t)=>e+(t.clicks||0),0),c=Math.round(.075*d),u=a.reduce((e,t)=>e+(t.cost||0),0),m=u>0?(120*c/u*100).toFixed(2):"0";t(e=>({...e,totalViews:o,totalClicks:d,totalConversions:c,roi:parseFloat(m),cost:u})),en({title:"Metrics Updated",description:"Video metrics have been successfully refreshed from YouTube and updated in the database."})}catch(e){console.error("Error refreshing numbers:",e),en({title:"Refresh Failed",description:"Failed to refresh the video metrics. Please try again.",variant:"destructive"})}finally{ea(!1)}};if(E)return(0,s.jsx)("div",{className:"flex justify-center items-center h-screen",children:"Loading..."});if(V)return(0,s.jsx)("div",{className:"flex justify-center items-center h-screen text-red-500",children:V});if(!e)return(0,s.jsx)("div",{className:"flex justify-center items-center h-screen",children:"No data available"});let eu=r.length,em=r.reduce((e,t)=>e+(t.viewCount||0),0),ex=r.reduce((e,t)=>e+(t.likeCount||0),0),ef=r.reduce((e,t)=>e+(t.commentCount||0),0),eh=r.reduce((e,t)=>e+(t.clicks||0),0),ej=Math.round(.075*eh),ep=r.reduce((e,t)=>e+(t.cost||0),0),eg=em>0?((ex+ef)/em*100).toFixed(2):"0.00",ev=em>0?(eh/em*100).toFixed(2):"0.00",eb=ep>0?(120*ej/ep*100).toFixed(2):"0.00",ew={videoCount:{label:"Videos Posted",color:"hsl(262, 83%, 58%)"},views:{label:"Views",color:"hsl(214, 82%, 51%)"}};return(0,s.jsxs)(R.E.div,{className:"container mx-auto p-6",initial:"hidden",animate:"visible",variants:{hidden:{opacity:0},visible:{opacity:1,transition:{delayChildren:.3,staggerChildren:.2}}},children:[(0,s.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,s.jsx)("h1",{className:"text-3xl font-bold",children:"Dashboard"}),(0,s.jsx)(F.z,{onClick:ec,disabled:es,children:es?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(v.Z,{className:"mr-2 h-4 w-4 animate-spin"}),"Refreshing..."]}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(v.Z,{className:"mr-2 h-4 w-4"}),"Refresh Metrics"]})})]}),(0,s.jsxs)("div",{className:"mb-6",children:[(0,s.jsx)($._,{htmlFor:"month-select",className:"text-lg font-semibold mb-2 block",children:"Select Month"}),(0,s.jsxs)(H.Ph,{value:X,onValueChange:e=>G(e),children:[(0,s.jsx)(H.i4,{id:"month-select",className:"w-[200px]",children:(0,s.jsx)(H.ki,{placeholder:"Select month"})}),(0,s.jsx)(H.Bw,{children:Array.from({length:12},(e,t)=>{let r=new Date(new Date().getFullYear(),t,1);return(0,s.jsx)(H.Ql,{value:r.toISOString().slice(0,7),children:r.toLocaleString("default",{month:"long",year:"numeric"})},t)})})]})]}),(0,s.jsxs)("h2",{className:"text-2xl font-bold mb-4",children:["Performance for ",new Date(X).toLocaleString("default",{month:"long",year:"numeric"})]}),(0,s.jsxs)("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-3 mb-8",children:[(0,s.jsx)(R.E.div,{variants:ed,children:(0,s.jsxs)(n.Zb,{children:[(0,s.jsxs)(n.Ol,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,s.jsx)(n.ll,{className:"text-sm font-medium",children:"Posted Videos"}),(0,s.jsx)(b.Z,{className:"h-4 w-4 text-muted-foreground"})]}),(0,s.jsx)(n.aY,{children:(0,s.jsx)("div",{className:"text-2xl font-bold",children:(0,s.jsx)(U,{value:e.postedVideos})})})]})}),(0,s.jsx)(R.E.div,{variants:ed,children:(0,s.jsxs)(n.Zb,{children:[(0,s.jsxs)(n.Ol,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,s.jsx)(n.ll,{className:"text-sm font-medium",children:"Total Views"}),(0,s.jsx)(w.Z,{className:"h-4 w-4 text-muted-foreground"})]}),(0,s.jsx)(n.aY,{children:(0,s.jsx)("div",{className:"text-2xl font-bold",children:(0,s.jsx)(U,{value:e.totalViews})})})]})}),(0,s.jsx)(R.E.div,{variants:ed,children:(0,s.jsxs)(n.Zb,{children:[(0,s.jsxs)(n.Ol,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,s.jsx)(n.ll,{className:"text-sm font-medium",children:"Total Clicks"}),(0,s.jsx)(y.Z,{className:"h-4 w-4 text-muted-foreground"})]}),(0,s.jsx)(n.aY,{children:(0,s.jsx)("div",{className:"text-2xl font-bold",children:(0,s.jsx)(U,{value:e.totalClicks})})})]})}),(0,s.jsx)(R.E.div,{variants:ed,children:(0,s.jsxs)(n.Zb,{children:[(0,s.jsxs)(n.Ol,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,s.jsx)(n.ll,{className:"text-sm font-medium",children:"Total Conversions"}),(0,s.jsx)(N.Z,{className:"h-4 w-4 text-muted-foreground"})]}),(0,s.jsx)(n.aY,{children:(0,s.jsx)("div",{className:"text-2xl font-bold",children:(0,s.jsx)(U,{value:e.totalConversions})})})]})}),(0,s.jsx)(R.E.div,{variants:ed,children:(0,s.jsxs)(n.Zb,{children:[(0,s.jsxs)(n.Ol,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,s.jsx)(n.ll,{className:"text-sm font-medium",children:"ROI"}),(0,s.jsx)(k.Z,{className:"h-4 w-4 text-muted-foreground"})]}),(0,s.jsx)(n.aY,{children:(0,s.jsxs)("div",{className:"text-2xl font-bold",children:[(0,s.jsx)(U,{value:e.roi}),"%"]})})]})}),(0,s.jsx)(R.E.div,{variants:ed,children:(0,s.jsxs)(n.Zb,{children:[(0,s.jsxs)(n.Ol,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,s.jsx)(n.ll,{className:"text-sm font-medium",children:"Cost"}),(0,s.jsx)(C.Z,{className:"h-4 w-4 text-muted-foreground"})]}),(0,s.jsx)(n.aY,{children:(0,s.jsxs)("div",{className:"text-2xl font-bold",children:["$",(0,s.jsx)(U,{value:e.cost})]})})]})})]}),(0,s.jsx)(R.E.div,{variants:ed,className:"mb-8",children:(0,s.jsxs)(n.Zb,{children:[(0,s.jsxs)(n.Ol,{className:"flex flex-col items-stretch space-y-0 border-b p-0 sm:flex-row",children:[(0,s.jsxs)("div",{className:"flex flex-1 flex-col justify-center gap-1 px-6 py-5 sm:py-6",children:[(0,s.jsx)(n.ll,{children:"Daily Video Performance"}),(0,s.jsxs)(n.SZ,{children:["Showing videos posted and views for ",new Date(X).toLocaleString("default",{month:"long",year:"numeric"})]})]}),(0,s.jsx)("div",{className:"flex",children:Object.keys(ew).map(e=>(0,s.jsxs)("button",{"data-active":J===e,className:"relative z-30 flex flex-1 flex-col justify-center gap-1 border-t px-6 py-4 text-left even:border-l data-[active=true]:bg-muted/50 sm:border-l sm:border-t-0 sm:px-8 sm:py-6",onClick:()=>Q(e),children:[(0,s.jsx)("span",{className:"text-xs text-muted-foreground",children:ew[e].label}),(0,s.jsx)("span",{className:"text-lg font-bold leading-none sm:text-3xl",children:Z.reduce((t,r)=>t+r[e],0).toLocaleString()})]},e))})]}),(0,s.jsx)(n.aY,{className:"px-2 sm:p-6",children:(0,s.jsx)(P,{config:ew,className:"aspect-auto h-[250px] w-full",children:(0,s.jsx)(x.h,{width:"100%",height:300,children:(0,s.jsxs)(f.v,{data:Z,children:[(0,s.jsx)(h.q,{strokeDasharray:"3 3"}),(0,s.jsx)(j.K,{dataKey:"date",tickLine:!1,axisLine:!1,tickMargin:8,minTickGap:32,tickFormatter:e=>new Date(e).toLocaleDateString("en-US",{month:"short",day:"numeric"})}),(0,s.jsx)(p.B,{}),(0,s.jsx)(M,{content:(0,s.jsx)(K,{className:"w-[150px]",nameKey:J,labelFormatter:e=>new Date(e).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})})}),(0,s.jsx)(g.$,{dataKey:J,fill:ew[J].color})]})})})})]})}),(0,s.jsx)(R.E.div,{variants:ed,children:(0,s.jsxs)(n.Zb,{children:[(0,s.jsx)(n.Ol,{children:(0,s.jsx)(n.ll,{children:"All Videos Performance"})}),(0,s.jsx)(n.aY,{children:(0,s.jsxs)(i,{children:[(0,s.jsx)(o,{children:(0,s.jsxs)(c,{children:[(0,s.jsx)(u,{children:"Thumbnail"}),(0,s.jsx)(u,{children:(0,s.jsxs)(F.z,{variant:"ghost",onClick:()=>eo("title"),children:["Title ",(0,s.jsx)(S.Z,{className:"ml-2 h-4 w-4"})]})}),(0,s.jsx)(u,{children:"Influencer"}),(0,s.jsx)(u,{children:(0,s.jsxs)(F.z,{variant:"ghost",onClick:()=>eo("viewCount"),children:["Views ",(0,s.jsx)(S.Z,{className:"ml-2 h-4 w-4"})]})}),(0,s.jsx)(u,{children:(0,s.jsxs)(F.z,{variant:"ghost",onClick:()=>eo("likeCount"),children:["Likes ",(0,s.jsx)(S.Z,{className:"ml-2 h-4 w-4"})]})}),(0,s.jsx)(u,{children:(0,s.jsxs)(F.z,{variant:"ghost",onClick:()=>eo("commentCount"),children:["Comments ",(0,s.jsx)(S.Z,{className:"ml-2 h-4 w-4"})]})}),(0,s.jsx)(u,{children:"Engagement Rate"}),(0,s.jsx)(u,{children:(0,s.jsxs)(F.z,{variant:"ghost",onClick:()=>eo("clicks"),children:["Clicks ",(0,s.jsx)(S.Z,{className:"ml-2 h-4 w-4"})]})}),(0,s.jsx)(u,{children:"CTR"}),(0,s.jsx)(u,{children:(0,s.jsxs)(F.z,{variant:"ghost",onClick:()=>eo("conversions"),children:["Conversions ",(0,s.jsx)(S.Z,{className:"ml-2 h-4 w-4"})]})}),(0,s.jsx)(u,{children:(0,s.jsxs)(F.z,{variant:"ghost",onClick:()=>eo("cost"),children:["Cost ",(0,s.jsx)(S.Z,{className:"ml-2 h-4 w-4"})]})}),(0,s.jsx)(u,{children:"ROI"}),(0,s.jsx)(u,{children:"Action"})]})}),(0,s.jsxs)(d,{children:[ei.map(e=>{var t,r,a,n,l,i;let o=Math.round(.075*e.clicks),d=e.viewCount>0?((e.likeCount+e.commentCount)/e.viewCount*100).toFixed(2):"0.00",u=e.viewCount>0?(e.clicks/e.viewCount*100).toFixed(2):"0.00",x=e.cost>0?(120*o/e.cost*100).toFixed(2):"0.00";return(0,s.jsxs)(c,{children:[(0,s.jsx)(m,{children:(0,s.jsx)(O(),{src:e.thumbnail||"/placeholder.svg",alt:e.title,width:80,height:45,className:"rounded"})}),(0,s.jsx)(m,{className:"max-w-xs truncate",children:e.title}),(0,s.jsx)(m,{children:(null===(t=e.influencer)||void 0===t?void 0:t.channelName)||"N/A"}),(0,s.jsx)(m,{children:null===(r=e.viewCount)||void 0===r?void 0:r.toLocaleString()}),(0,s.jsx)(m,{children:null===(a=e.likeCount)||void 0===a?void 0:a.toLocaleString()}),(0,s.jsx)(m,{children:null===(n=e.commentCount)||void 0===n?void 0:n.toLocaleString()}),(0,s.jsxs)(m,{children:[d,"%"]}),(0,s.jsx)(m,{children:null===(l=e.clicks)||void 0===l?void 0:l.toLocaleString()}),(0,s.jsxs)(m,{children:[u,"%"]}),(0,s.jsx)(m,{children:null==o?void 0:o.toLocaleString()}),(0,s.jsxs)(m,{children:["$",null===(i=e.cost)||void 0===i?void 0:i.toLocaleString()]}),(0,s.jsxs)(m,{children:[x,"%"]}),(0,s.jsx)(m,{children:(0,s.jsxs)("a",{href:"https://www.youtube.com/watch?v=".concat(e.youtubeId),target:"_blank",rel:"noopener noreferrer",className:"flex items-center text-blue-500 hover:text-blue-700",children:["View ",(0,s.jsx)(_.Z,{className:"ml-1 h-4 w-4"})]})})]},e.id)}),(0,s.jsxs)(c,{className:"font-bold",children:[(0,s.jsx)(m,{colSpan:2,children:"Total"}),(0,s.jsx)(m,{children:eu}),(0,s.jsx)(m,{children:em.toLocaleString()}),(0,s.jsx)(m,{children:ex.toLocaleString()}),(0,s.jsx)(m,{children:ef.toLocaleString()}),(0,s.jsxs)(m,{children:[eg,"%"]}),(0,s.jsx)(m,{children:eh.toLocaleString()}),(0,s.jsxs)(m,{children:[ev,"%"]}),(0,s.jsx)(m,{children:ej.toLocaleString()}),(0,s.jsxs)(m,{children:["$",ep.toLocaleString()]}),(0,s.jsxs)(m,{children:[eb,"%"]}),(0,s.jsx)(m,{})]})]})]})})]})}),(0,s.jsx)(A.Vq,{open:et,onOpenChange:er,children:(0,s.jsx)(A.cZ,{children:(0,s.jsxs)(A.fK,{children:[(0,s.jsx)(A.$N,{children:"Updating Video Data"}),(0,s.jsx)(A.Be,{children:"We're fetching the latest data from YouTube and Bitly. This may take a moment."})]})})})]})}}},function(e){e.O(0,[408,973,888,774,179],function(){return e(e.s=528)}),_N_E=e.O()}]);