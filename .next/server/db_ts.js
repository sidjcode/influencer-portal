"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
exports.id = "db_ts";
exports.ids = ["db_ts"];
exports.modules = {

/***/ "./db.ts":
/*!***************!*\
  !*** ./db.ts ***!
  \***************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.a(module, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   closeDb: () => (/* binding */ closeDb),\n/* harmony export */   initializeDb: () => (/* binding */ initializeDb),\n/* harmony export */   openDb: () => (/* binding */ openDb)\n/* harmony export */ });\n/* harmony import */ var sqlite3__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! sqlite3 */ \"sqlite3\");\n/* harmony import */ var sqlite3__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(sqlite3__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var sqlite__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! sqlite */ \"sqlite\");\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([sqlite__WEBPACK_IMPORTED_MODULE_1__]);\nsqlite__WEBPACK_IMPORTED_MODULE_1__ = (__webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__)[0];\n\n\nlet db = null;\nasync function openDb() {\n    if (!db) {\n        db = await (0,sqlite__WEBPACK_IMPORTED_MODULE_1__.open)({\n            filename: \"./influencer_portal.sqlite\",\n            driver: (sqlite3__WEBPACK_IMPORTED_MODULE_0___default().Database)\n        });\n    }\n    return db;\n}\nasync function initializeDb() {\n    try {\n        const db = await openDb();\n        await db.exec(`\n            CREATE TABLE IF NOT EXISTS influencers (\n                                                       id INTEGER PRIMARY KEY AUTOINCREMENT,\n                                                       channelName TEXT NOT NULL,\n                                                       channelYoutubeId TEXT NOT NULL,\n                                                       category TEXT,\n                                                       avgViews INTEGER,\n                                                       callRequired BOOLEAN,\n                                                       engagementRate REAL,\n                                                       topCountriesProportion REAL,\n                                                       richCountriesFollowers INTEGER,\n                                                       maleFollowers REAL,\n                                                       followerGrowthRate REAL,\n                                                       englishSpeakingFollowers INTEGER\n            )\n        `);\n        await db.exec(`\n            CREATE TABLE IF NOT EXISTS deals (\n                                                 id INTEGER PRIMARY KEY AUTOINCREMENT,\n                                                 influencerId INTEGER,\n                                                 status TEXT NOT NULL,\n                                                 uploadMonth TEXT,\n                                                 deliverables TEXT,\n                                                 usage TEXT,\n                                                 recut TEXT,\n                                                 exclusivity TEXT,\n                                                 viewGuaranteeAmount INTEGER,\n                                                 viewGuaranteeDays INTEGER,\n                                                 rate REAL,\n                                                 postDate TEXT,\n                                                 uploadLink TEXT,\n                                                 trackingUrl TEXT,\n                                                 contractedBy TEXT NOT NULL,\n                                                 agencyName TEXT,\n                                                 FOREIGN KEY(influencerId) REFERENCES influencers(id)\n                )\n        `);\n        console.log(\"Database initialized successfully\");\n    } catch (error) {\n        console.error(\"Error initializing database:\", error);\n        throw error;\n    }\n}\nasync function closeDb() {\n    if (db) {\n        await db.close();\n        db = null;\n    }\n} // Remove this line as openDb is already exported above\n // export { openDb };\n\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9kYi50cyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7QUFBOEI7QUFDVTtBQUV4QyxJQUFJRSxLQUFzQjtBQUVuQixlQUFlQztJQUNsQixJQUFJLENBQUNELElBQUk7UUFDTEEsS0FBSyxNQUFNRCw0Q0FBSUEsQ0FBQztZQUNaRyxVQUFVO1lBQ1ZDLFFBQVFMLHlEQUFnQjtRQUM1QjtJQUNKO0lBQ0EsT0FBT0U7QUFDWDtBQUVPLGVBQWVLO0lBQ2xCLElBQUk7UUFDQSxNQUFNTCxLQUFLLE1BQU1DO1FBRWpCLE1BQU1ELEdBQUdNLElBQUksQ0FBQyxDQUFDOzs7Ozs7Ozs7Ozs7Ozs7UUFlZixDQUFDO1FBRUQsTUFBTU4sR0FBR00sSUFBSSxDQUFDLENBQUM7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O1FBb0JmLENBQUM7UUFFREMsUUFBUUMsR0FBRyxDQUFDO0lBQ2hCLEVBQUUsT0FBT0MsT0FBTztRQUNaRixRQUFRRSxLQUFLLENBQUMsZ0NBQWdDQTtRQUM5QyxNQUFNQTtJQUNWO0FBQ0o7QUFFTyxlQUFlQztJQUNsQixJQUFJVixJQUFJO1FBQ0osTUFBTUEsR0FBR1csS0FBSztRQUNkWCxLQUFLO0lBQ1Q7QUFDSixFQUVBLHVEQUF1RDtDQUN2RCxxQkFBcUIiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9pbmZsdWVuY2VyLXBvcnRhbC8uL2RiLnRzP2M0OGQiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHNxbGl0ZTMgZnJvbSAnc3FsaXRlMyc7XG5pbXBvcnQgeyBvcGVuLCBEYXRhYmFzZSB9IGZyb20gJ3NxbGl0ZSc7XG5cbmxldCBkYjogRGF0YWJhc2UgfCBudWxsID0gbnVsbDtcblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIG9wZW5EYigpOiBQcm9taXNlPERhdGFiYXNlPiB7XG4gICAgaWYgKCFkYikge1xuICAgICAgICBkYiA9IGF3YWl0IG9wZW4oe1xuICAgICAgICAgICAgZmlsZW5hbWU6ICcuL2luZmx1ZW5jZXJfcG9ydGFsLnNxbGl0ZScsXG4gICAgICAgICAgICBkcml2ZXI6IHNxbGl0ZTMuRGF0YWJhc2VcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIHJldHVybiBkYjtcbn1cblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGluaXRpYWxpemVEYigpOiBQcm9taXNlPHZvaWQ+IHtcbiAgICB0cnkge1xuICAgICAgICBjb25zdCBkYiA9IGF3YWl0IG9wZW5EYigpO1xuXG4gICAgICAgIGF3YWl0IGRiLmV4ZWMoYFxuICAgICAgICAgICAgQ1JFQVRFIFRBQkxFIElGIE5PVCBFWElTVFMgaW5mbHVlbmNlcnMgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlkIElOVEVHRVIgUFJJTUFSWSBLRVkgQVVUT0lOQ1JFTUVOVCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjaGFubmVsTmFtZSBURVhUIE5PVCBOVUxMLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNoYW5uZWxZb3V0dWJlSWQgVEVYVCBOT1QgTlVMTCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXRlZ29yeSBURVhULFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGF2Z1ZpZXdzIElOVEVHRVIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FsbFJlcXVpcmVkIEJPT0xFQU4sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZW5nYWdlbWVudFJhdGUgUkVBTCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0b3BDb3VudHJpZXNQcm9wb3J0aW9uIFJFQUwsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmljaENvdW50cmllc0ZvbGxvd2VycyBJTlRFR0VSLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1hbGVGb2xsb3dlcnMgUkVBTCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb2xsb3dlckdyb3d0aFJhdGUgUkVBTCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbmdsaXNoU3BlYWtpbmdGb2xsb3dlcnMgSU5URUdFUlxuICAgICAgICAgICAgKVxuICAgICAgICBgKTtcblxuICAgICAgICBhd2FpdCBkYi5leGVjKGBcbiAgICAgICAgICAgIENSRUFURSBUQUJMRSBJRiBOT1QgRVhJU1RTIGRlYWxzIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZCBJTlRFR0VSIFBSSU1BUlkgS0VZIEFVVE9JTkNSRU1FTlQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaW5mbHVlbmNlcklkIElOVEVHRVIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RhdHVzIFRFWFQgTk9UIE5VTEwsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdXBsb2FkTW9udGggVEVYVCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWxpdmVyYWJsZXMgVEVYVCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB1c2FnZSBURVhULFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlY3V0IFRFWFQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZXhjbHVzaXZpdHkgVEVYVCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2aWV3R3VhcmFudGVlQW1vdW50IElOVEVHRVIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmlld0d1YXJhbnRlZURheXMgSU5URUdFUixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByYXRlIFJFQUwsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcG9zdERhdGUgVEVYVCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB1cGxvYWRMaW5rIFRFWFQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHJhY2tpbmdVcmwgVEVYVCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250cmFjdGVkQnkgVEVYVCBOT1QgTlVMTCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhZ2VuY3lOYW1lIFRFWFQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgRk9SRUlHTiBLRVkoaW5mbHVlbmNlcklkKSBSRUZFUkVOQ0VTIGluZmx1ZW5jZXJzKGlkKVxuICAgICAgICAgICAgICAgIClcbiAgICAgICAgYCk7XG5cbiAgICAgICAgY29uc29sZS5sb2coJ0RhdGFiYXNlIGluaXRpYWxpemVkIHN1Y2Nlc3NmdWxseScpO1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGluaXRpYWxpemluZyBkYXRhYmFzZTonLCBlcnJvcik7XG4gICAgICAgIHRocm93IGVycm9yO1xuICAgIH1cbn1cblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGNsb3NlRGIoKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgaWYgKGRiKSB7XG4gICAgICAgIGF3YWl0IGRiLmNsb3NlKCk7XG4gICAgICAgIGRiID0gbnVsbDtcbiAgICB9XG59XG5cbi8vIFJlbW92ZSB0aGlzIGxpbmUgYXMgb3BlbkRiIGlzIGFscmVhZHkgZXhwb3J0ZWQgYWJvdmVcbi8vIGV4cG9ydCB7IG9wZW5EYiB9OyJdLCJuYW1lcyI6WyJzcWxpdGUzIiwib3BlbiIsImRiIiwib3BlbkRiIiwiZmlsZW5hbWUiLCJkcml2ZXIiLCJEYXRhYmFzZSIsImluaXRpYWxpemVEYiIsImV4ZWMiLCJjb25zb2xlIiwibG9nIiwiZXJyb3IiLCJjbG9zZURiIiwiY2xvc2UiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./db.ts\n");

/***/ })

};
;