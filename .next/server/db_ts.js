"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
exports.id = "db_ts";
exports.ids = ["db_ts"];
exports.modules = {

/***/ "./db.ts":
/*!***************!*\
  !*** ./db.ts ***!
  \***************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.a(module, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   closeDb: () => (/* binding */ closeDb),\n/* harmony export */   initializeDb: () => (/* binding */ initializeDb),\n/* harmony export */   openDb: () => (/* binding */ openDb),\n/* harmony export */   prisma: () => (/* binding */ prisma)\n/* harmony export */ });\n/* harmony import */ var sqlite3__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! sqlite3 */ \"sqlite3\");\n/* harmony import */ var sqlite3__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(sqlite3__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var sqlite__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! sqlite */ \"sqlite\");\n/* harmony import */ var _prisma_client__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @prisma/client */ \"@prisma/client\");\n/* harmony import */ var _prisma_client__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_prisma_client__WEBPACK_IMPORTED_MODULE_2__);\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([sqlite__WEBPACK_IMPORTED_MODULE_1__]);\nsqlite__WEBPACK_IMPORTED_MODULE_1__ = (__webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__)[0];\n\n\n\nlet db = null;\nconst prisma = new _prisma_client__WEBPACK_IMPORTED_MODULE_2__.PrismaClient();\nasync function openDb() {\n    if (!db) {\n        db = await (0,sqlite__WEBPACK_IMPORTED_MODULE_1__.open)({\n            filename: \"./influencer_portal.sqlite\",\n            driver: (sqlite3__WEBPACK_IMPORTED_MODULE_0___default().Database)\n        });\n    }\n    return db;\n}\nasync function initializeDb() {\n    try {\n        await prisma.$connect();\n        console.log(\"Database initialized successfully\");\n    } catch (error) {\n        console.error(\"Error initializing database:\", error);\n        throw error;\n    }\n}\nasync function closeDb() {\n    if (db) {\n        await db.close();\n        db = null;\n    }\n    await prisma.$disconnect();\n}\n\n\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9kYi50cyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7QUFBOEI7QUFDVTtBQUNNO0FBRTlDLElBQUlHLEtBQXNCO0FBQzFCLE1BQU1DLFNBQVMsSUFBSUYsd0RBQVlBO0FBRXhCLGVBQWVHO0lBQ2xCLElBQUksQ0FBQ0YsSUFBSTtRQUNMQSxLQUFLLE1BQU1GLDRDQUFJQSxDQUFDO1lBQ1pLLFVBQVU7WUFDVkMsUUFBUVAseURBQWdCO1FBQzVCO0lBQ0o7SUFDQSxPQUFPRztBQUNYO0FBRU8sZUFBZU07SUFDbEIsSUFBSTtRQUNBLE1BQU1MLE9BQU9NLFFBQVE7UUFDckJDLFFBQVFDLEdBQUcsQ0FBQztJQUNoQixFQUFFLE9BQU9DLE9BQU87UUFDWkYsUUFBUUUsS0FBSyxDQUFDLGdDQUFnQ0E7UUFDOUMsTUFBTUE7SUFDVjtBQUNKO0FBRU8sZUFBZUM7SUFDbEIsSUFBSVgsSUFBSTtRQUNKLE1BQU1BLEdBQUdZLEtBQUs7UUFDZFosS0FBSztJQUNUO0lBQ0EsTUFBTUMsT0FBT1ksV0FBVztBQUM1QjtBQUVrQiIsInNvdXJjZXMiOlsid2VicGFjazovL2luZmx1ZW5jZXItcG9ydGFsLy4vZGIudHM/YzQ4ZCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgc3FsaXRlMyBmcm9tICdzcWxpdGUzJztcbmltcG9ydCB7IG9wZW4sIERhdGFiYXNlIH0gZnJvbSAnc3FsaXRlJztcbmltcG9ydCB7IFByaXNtYUNsaWVudCB9IGZyb20gJ0BwcmlzbWEvY2xpZW50JztcblxubGV0IGRiOiBEYXRhYmFzZSB8IG51bGwgPSBudWxsO1xuY29uc3QgcHJpc21hID0gbmV3IFByaXNtYUNsaWVudCgpO1xuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gb3BlbkRiKCk6IFByb21pc2U8RGF0YWJhc2U+IHtcbiAgICBpZiAoIWRiKSB7XG4gICAgICAgIGRiID0gYXdhaXQgb3Blbih7XG4gICAgICAgICAgICBmaWxlbmFtZTogJy4vaW5mbHVlbmNlcl9wb3J0YWwuc3FsaXRlJyxcbiAgICAgICAgICAgIGRyaXZlcjogc3FsaXRlMy5EYXRhYmFzZVxuICAgICAgICB9KTtcbiAgICB9XG4gICAgcmV0dXJuIGRiO1xufVxuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gaW5pdGlhbGl6ZURiKCk6IFByb21pc2U8dm9pZD4ge1xuICAgIHRyeSB7XG4gICAgICAgIGF3YWl0IHByaXNtYS4kY29ubmVjdCgpO1xuICAgICAgICBjb25zb2xlLmxvZygnRGF0YWJhc2UgaW5pdGlhbGl6ZWQgc3VjY2Vzc2Z1bGx5Jyk7XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcignRXJyb3IgaW5pdGlhbGl6aW5nIGRhdGFiYXNlOicsIGVycm9yKTtcbiAgICAgICAgdGhyb3cgZXJyb3I7XG4gICAgfVxufVxuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gY2xvc2VEYigpOiBQcm9taXNlPHZvaWQ+IHtcbiAgICBpZiAoZGIpIHtcbiAgICAgICAgYXdhaXQgZGIuY2xvc2UoKTtcbiAgICAgICAgZGIgPSBudWxsO1xuICAgIH1cbiAgICBhd2FpdCBwcmlzbWEuJGRpc2Nvbm5lY3QoKTtcbn1cblxuZXhwb3J0IHsgcHJpc21hIH07Il0sIm5hbWVzIjpbInNxbGl0ZTMiLCJvcGVuIiwiUHJpc21hQ2xpZW50IiwiZGIiLCJwcmlzbWEiLCJvcGVuRGIiLCJmaWxlbmFtZSIsImRyaXZlciIsIkRhdGFiYXNlIiwiaW5pdGlhbGl6ZURiIiwiJGNvbm5lY3QiLCJjb25zb2xlIiwibG9nIiwiZXJyb3IiLCJjbG9zZURiIiwiY2xvc2UiLCIkZGlzY29ubmVjdCJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./db.ts\n");

/***/ })

};
;