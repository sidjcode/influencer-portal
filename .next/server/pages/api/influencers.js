"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "pages/api/influencers";
exports.ids = ["pages/api/influencers"];
exports.modules = {

/***/ "next/dist/compiled/next-server/pages-api.runtime.dev.js":
/*!**************************************************************************!*\
  !*** external "next/dist/compiled/next-server/pages-api.runtime.dev.js" ***!
  \**************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/pages-api.runtime.dev.js");

/***/ }),

/***/ "sqlite3":
/*!**************************!*\
  !*** external "sqlite3" ***!
  \**************************/
/***/ ((module) => {

module.exports = require("sqlite3");

/***/ }),

/***/ "sqlite":
/*!*************************!*\
  !*** external "sqlite" ***!
  \*************************/
/***/ ((module) => {

module.exports = import("sqlite");;

/***/ }),

/***/ "(api)/./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Finfluencers&preferredRegion=&absolutePagePath=.%2Fpages%2Fapi%2Finfluencers.ts&middlewareConfigBase64=e30%3D!":
/*!****************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Finfluencers&preferredRegion=&absolutePagePath=.%2Fpages%2Fapi%2Finfluencers.ts&middlewareConfigBase64=e30%3D! ***!
  \****************************************************************************************************************************************************************************************************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.a(module, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   config: () => (/* binding */ config),\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__),\n/* harmony export */   routeModule: () => (/* binding */ routeModule)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_future_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/future/route-modules/pages-api/module.compiled */ \"(api)/./node_modules/next/dist/server/future/route-modules/pages-api/module.compiled.js\");\n/* harmony import */ var next_dist_server_future_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_future_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/dist/server/future/route-kind */ \"(api)/./node_modules/next/dist/server/future/route-kind.js\");\n/* harmony import */ var next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/dist/build/templates/helpers */ \"(api)/./node_modules/next/dist/build/templates/helpers.js\");\n/* harmony import */ var _pages_api_influencers_ts__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./pages/api/influencers.ts */ \"(api)/./pages/api/influencers.ts\");\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([_pages_api_influencers_ts__WEBPACK_IMPORTED_MODULE_3__]);\n_pages_api_influencers_ts__WEBPACK_IMPORTED_MODULE_3__ = (__webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__)[0];\n\n\n\n// Import the userland code.\n\n// Re-export the handler (should be the default export).\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((0,next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__.hoist)(_pages_api_influencers_ts__WEBPACK_IMPORTED_MODULE_3__, \"default\"));\n// Re-export config.\nconst config = (0,next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__.hoist)(_pages_api_influencers_ts__WEBPACK_IMPORTED_MODULE_3__, \"config\");\n// Create and export the route module that will be consumed.\nconst routeModule = new next_dist_server_future_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0__.PagesAPIRouteModule({\n    definition: {\n        kind: next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.PAGES_API,\n        page: \"/api/influencers\",\n        pathname: \"/api/influencers\",\n        // The following aren't used in production.\n        bundlePath: \"\",\n        filename: \"\"\n    },\n    userland: _pages_api_influencers_ts__WEBPACK_IMPORTED_MODULE_3__\n});\n\n//# sourceMappingURL=pages-api.js.map\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaSkvLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LXJvdXRlLWxvYWRlci9pbmRleC5qcz9raW5kPVBBR0VTX0FQSSZwYWdlPSUyRmFwaSUyRmluZmx1ZW5jZXJzJnByZWZlcnJlZFJlZ2lvbj0mYWJzb2x1dGVQYWdlUGF0aD0uJTJGcGFnZXMlMkZhcGklMkZpbmZsdWVuY2Vycy50cyZtaWRkbGV3YXJlQ29uZmlnQmFzZTY0PWUzMCUzRCEiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7QUFBc0c7QUFDdkM7QUFDTDtBQUMxRDtBQUN1RDtBQUN2RDtBQUNBLGlFQUFlLHdFQUFLLENBQUMsc0RBQVEsWUFBWSxFQUFDO0FBQzFDO0FBQ08sZUFBZSx3RUFBSyxDQUFDLHNEQUFRO0FBQ3BDO0FBQ08sd0JBQXdCLGdIQUFtQjtBQUNsRDtBQUNBLGNBQWMseUVBQVM7QUFDdkI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTCxZQUFZO0FBQ1osQ0FBQzs7QUFFRCxxQyIsInNvdXJjZXMiOlsid2VicGFjazovL2luZmx1ZW5jZXItcG9ydGFsLz84N2MzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IFBhZ2VzQVBJUm91dGVNb2R1bGUgfSBmcm9tIFwibmV4dC9kaXN0L3NlcnZlci9mdXR1cmUvcm91dGUtbW9kdWxlcy9wYWdlcy1hcGkvbW9kdWxlLmNvbXBpbGVkXCI7XG5pbXBvcnQgeyBSb3V0ZUtpbmQgfSBmcm9tIFwibmV4dC9kaXN0L3NlcnZlci9mdXR1cmUvcm91dGUta2luZFwiO1xuaW1wb3J0IHsgaG9pc3QgfSBmcm9tIFwibmV4dC9kaXN0L2J1aWxkL3RlbXBsYXRlcy9oZWxwZXJzXCI7XG4vLyBJbXBvcnQgdGhlIHVzZXJsYW5kIGNvZGUuXG5pbXBvcnQgKiBhcyB1c2VybGFuZCBmcm9tIFwiLi9wYWdlcy9hcGkvaW5mbHVlbmNlcnMudHNcIjtcbi8vIFJlLWV4cG9ydCB0aGUgaGFuZGxlciAoc2hvdWxkIGJlIHRoZSBkZWZhdWx0IGV4cG9ydCkuXG5leHBvcnQgZGVmYXVsdCBob2lzdCh1c2VybGFuZCwgXCJkZWZhdWx0XCIpO1xuLy8gUmUtZXhwb3J0IGNvbmZpZy5cbmV4cG9ydCBjb25zdCBjb25maWcgPSBob2lzdCh1c2VybGFuZCwgXCJjb25maWdcIik7XG4vLyBDcmVhdGUgYW5kIGV4cG9ydCB0aGUgcm91dGUgbW9kdWxlIHRoYXQgd2lsbCBiZSBjb25zdW1lZC5cbmV4cG9ydCBjb25zdCByb3V0ZU1vZHVsZSA9IG5ldyBQYWdlc0FQSVJvdXRlTW9kdWxlKHtcbiAgICBkZWZpbml0aW9uOiB7XG4gICAgICAgIGtpbmQ6IFJvdXRlS2luZC5QQUdFU19BUEksXG4gICAgICAgIHBhZ2U6IFwiL2FwaS9pbmZsdWVuY2Vyc1wiLFxuICAgICAgICBwYXRobmFtZTogXCIvYXBpL2luZmx1ZW5jZXJzXCIsXG4gICAgICAgIC8vIFRoZSBmb2xsb3dpbmcgYXJlbid0IHVzZWQgaW4gcHJvZHVjdGlvbi5cbiAgICAgICAgYnVuZGxlUGF0aDogXCJcIixcbiAgICAgICAgZmlsZW5hbWU6IFwiXCJcbiAgICB9LFxuICAgIHVzZXJsYW5kXG59KTtcblxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9cGFnZXMtYXBpLmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(api)/./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Finfluencers&preferredRegion=&absolutePagePath=.%2Fpages%2Fapi%2Finfluencers.ts&middlewareConfigBase64=e30%3D!\n");

/***/ }),

/***/ "(api)/./db.ts":
/*!***************!*\
  !*** ./db.ts ***!
  \***************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.a(module, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   closeDb: () => (/* binding */ closeDb),\n/* harmony export */   initializeDb: () => (/* binding */ initializeDb),\n/* harmony export */   openDb: () => (/* binding */ openDb)\n/* harmony export */ });\n/* harmony import */ var sqlite3__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! sqlite3 */ \"sqlite3\");\n/* harmony import */ var sqlite3__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(sqlite3__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var sqlite__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! sqlite */ \"sqlite\");\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([sqlite__WEBPACK_IMPORTED_MODULE_1__]);\nsqlite__WEBPACK_IMPORTED_MODULE_1__ = (__webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__)[0];\n\n\nlet db = null;\nasync function openDb() {\n    if (!db) {\n        db = await (0,sqlite__WEBPACK_IMPORTED_MODULE_1__.open)({\n            filename: \"./influencer_portal.sqlite\",\n            driver: (sqlite3__WEBPACK_IMPORTED_MODULE_0___default().Database)\n        });\n    }\n    return db;\n}\nasync function initializeDb() {\n    try {\n        const db = await openDb();\n        await db.exec(`\n            CREATE TABLE IF NOT EXISTS influencers (\n                                                       id INTEGER PRIMARY KEY AUTOINCREMENT,\n                                                       channelName TEXT NOT NULL,\n                                                       channelYoutubeId TEXT NOT NULL,\n                                                       category TEXT,\n                                                       avgViews INTEGER,\n                                                       callRequired BOOLEAN,\n                                                       engagementRate REAL,\n                                                       topCountriesProportion REAL,\n                                                       richCountriesFollowers INTEGER,\n                                                       maleFollowers REAL,\n                                                       followerGrowthRate REAL,\n                                                       englishSpeakingFollowers INTEGER\n            )\n        `);\n        await db.exec(`\n            CREATE TABLE IF NOT EXISTS deals (\n                                                 id INTEGER PRIMARY KEY AUTOINCREMENT,\n                                                 influencerId INTEGER,\n                                                 status TEXT NOT NULL,\n                                                 uploadMonth TEXT,\n                                                 deliverables TEXT,\n                                                 usage TEXT,\n                                                 recut TEXT,\n                                                 exclusivity TEXT,\n                                                 viewGuaranteeAmount INTEGER,\n                                                 viewGuaranteeDays INTEGER,\n                                                 rate REAL,\n                                                 postDate TEXT,\n                                                 uploadLink TEXT,\n                                                 trackingUrl TEXT,\n                                                 contractedBy TEXT NOT NULL,\n                                                 agencyName TEXT,\n                                                 FOREIGN KEY(influencerId) REFERENCES influencers(id)\n                )\n        `);\n        console.log(\"Database initialized successfully\");\n    } catch (error) {\n        console.error(\"Error initializing database:\", error);\n        throw error;\n    }\n}\nasync function closeDb() {\n    if (db) {\n        await db.close();\n        db = null;\n    }\n} // Remove this line as openDb is already exported above\n // export { openDb };\n\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaSkvLi9kYi50cyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7QUFBOEI7QUFDVTtBQUV4QyxJQUFJRSxLQUFzQjtBQUVuQixlQUFlQztJQUNsQixJQUFJLENBQUNELElBQUk7UUFDTEEsS0FBSyxNQUFNRCw0Q0FBSUEsQ0FBQztZQUNaRyxVQUFVO1lBQ1ZDLFFBQVFMLHlEQUFnQjtRQUM1QjtJQUNKO0lBQ0EsT0FBT0U7QUFDWDtBQUVPLGVBQWVLO0lBQ2xCLElBQUk7UUFDQSxNQUFNTCxLQUFLLE1BQU1DO1FBRWpCLE1BQU1ELEdBQUdNLElBQUksQ0FBQyxDQUFDOzs7Ozs7Ozs7Ozs7Ozs7UUFlZixDQUFDO1FBRUQsTUFBTU4sR0FBR00sSUFBSSxDQUFDLENBQUM7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O1FBb0JmLENBQUM7UUFFREMsUUFBUUMsR0FBRyxDQUFDO0lBQ2hCLEVBQUUsT0FBT0MsT0FBTztRQUNaRixRQUFRRSxLQUFLLENBQUMsZ0NBQWdDQTtRQUM5QyxNQUFNQTtJQUNWO0FBQ0o7QUFFTyxlQUFlQztJQUNsQixJQUFJVixJQUFJO1FBQ0osTUFBTUEsR0FBR1csS0FBSztRQUNkWCxLQUFLO0lBQ1Q7QUFDSixFQUVBLHVEQUF1RDtDQUN2RCxxQkFBcUIiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9pbmZsdWVuY2VyLXBvcnRhbC8uL2RiLnRzP2M0OGQiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHNxbGl0ZTMgZnJvbSAnc3FsaXRlMyc7XG5pbXBvcnQgeyBvcGVuLCBEYXRhYmFzZSB9IGZyb20gJ3NxbGl0ZSc7XG5cbmxldCBkYjogRGF0YWJhc2UgfCBudWxsID0gbnVsbDtcblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIG9wZW5EYigpOiBQcm9taXNlPERhdGFiYXNlPiB7XG4gICAgaWYgKCFkYikge1xuICAgICAgICBkYiA9IGF3YWl0IG9wZW4oe1xuICAgICAgICAgICAgZmlsZW5hbWU6ICcuL2luZmx1ZW5jZXJfcG9ydGFsLnNxbGl0ZScsXG4gICAgICAgICAgICBkcml2ZXI6IHNxbGl0ZTMuRGF0YWJhc2VcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIHJldHVybiBkYjtcbn1cblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGluaXRpYWxpemVEYigpOiBQcm9taXNlPHZvaWQ+IHtcbiAgICB0cnkge1xuICAgICAgICBjb25zdCBkYiA9IGF3YWl0IG9wZW5EYigpO1xuXG4gICAgICAgIGF3YWl0IGRiLmV4ZWMoYFxuICAgICAgICAgICAgQ1JFQVRFIFRBQkxFIElGIE5PVCBFWElTVFMgaW5mbHVlbmNlcnMgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlkIElOVEVHRVIgUFJJTUFSWSBLRVkgQVVUT0lOQ1JFTUVOVCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjaGFubmVsTmFtZSBURVhUIE5PVCBOVUxMLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNoYW5uZWxZb3V0dWJlSWQgVEVYVCBOT1QgTlVMTCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXRlZ29yeSBURVhULFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGF2Z1ZpZXdzIElOVEVHRVIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FsbFJlcXVpcmVkIEJPT0xFQU4sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZW5nYWdlbWVudFJhdGUgUkVBTCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0b3BDb3VudHJpZXNQcm9wb3J0aW9uIFJFQUwsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmljaENvdW50cmllc0ZvbGxvd2VycyBJTlRFR0VSLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1hbGVGb2xsb3dlcnMgUkVBTCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb2xsb3dlckdyb3d0aFJhdGUgUkVBTCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbmdsaXNoU3BlYWtpbmdGb2xsb3dlcnMgSU5URUdFUlxuICAgICAgICAgICAgKVxuICAgICAgICBgKTtcblxuICAgICAgICBhd2FpdCBkYi5leGVjKGBcbiAgICAgICAgICAgIENSRUFURSBUQUJMRSBJRiBOT1QgRVhJU1RTIGRlYWxzIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZCBJTlRFR0VSIFBSSU1BUlkgS0VZIEFVVE9JTkNSRU1FTlQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaW5mbHVlbmNlcklkIElOVEVHRVIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RhdHVzIFRFWFQgTk9UIE5VTEwsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdXBsb2FkTW9udGggVEVYVCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWxpdmVyYWJsZXMgVEVYVCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB1c2FnZSBURVhULFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlY3V0IFRFWFQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZXhjbHVzaXZpdHkgVEVYVCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2aWV3R3VhcmFudGVlQW1vdW50IElOVEVHRVIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmlld0d1YXJhbnRlZURheXMgSU5URUdFUixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByYXRlIFJFQUwsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcG9zdERhdGUgVEVYVCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB1cGxvYWRMaW5rIFRFWFQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHJhY2tpbmdVcmwgVEVYVCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250cmFjdGVkQnkgVEVYVCBOT1QgTlVMTCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhZ2VuY3lOYW1lIFRFWFQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgRk9SRUlHTiBLRVkoaW5mbHVlbmNlcklkKSBSRUZFUkVOQ0VTIGluZmx1ZW5jZXJzKGlkKVxuICAgICAgICAgICAgICAgIClcbiAgICAgICAgYCk7XG5cbiAgICAgICAgY29uc29sZS5sb2coJ0RhdGFiYXNlIGluaXRpYWxpemVkIHN1Y2Nlc3NmdWxseScpO1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGluaXRpYWxpemluZyBkYXRhYmFzZTonLCBlcnJvcik7XG4gICAgICAgIHRocm93IGVycm9yO1xuICAgIH1cbn1cblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGNsb3NlRGIoKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgaWYgKGRiKSB7XG4gICAgICAgIGF3YWl0IGRiLmNsb3NlKCk7XG4gICAgICAgIGRiID0gbnVsbDtcbiAgICB9XG59XG5cbi8vIFJlbW92ZSB0aGlzIGxpbmUgYXMgb3BlbkRiIGlzIGFscmVhZHkgZXhwb3J0ZWQgYWJvdmVcbi8vIGV4cG9ydCB7IG9wZW5EYiB9OyJdLCJuYW1lcyI6WyJzcWxpdGUzIiwib3BlbiIsImRiIiwib3BlbkRiIiwiZmlsZW5hbWUiLCJkcml2ZXIiLCJEYXRhYmFzZSIsImluaXRpYWxpemVEYiIsImV4ZWMiLCJjb25zb2xlIiwibG9nIiwiZXJyb3IiLCJjbG9zZURiIiwiY2xvc2UiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(api)/./db.ts\n");

/***/ }),

/***/ "(api)/./pages/api/influencers.ts":
/*!**********************************!*\
  !*** ./pages/api/influencers.ts ***!
  \**********************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.a(module, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ handler)\n/* harmony export */ });\n/* harmony import */ var _db__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../db */ \"(api)/./db.ts\");\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([_db__WEBPACK_IMPORTED_MODULE_0__]);\n_db__WEBPACK_IMPORTED_MODULE_0__ = (__webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__)[0];\n\nasync function handler(req, res) {\n    const db = await (0,_db__WEBPACK_IMPORTED_MODULE_0__.openDb)();\n    if (req.method === \"GET\") {\n        try {\n            const influencers = await db.all(\"SELECT * FROM influencers\");\n            res.status(200).json(influencers);\n        } catch (error) {\n            console.error(\"Error fetching influencers:\", error);\n            res.status(500).json({\n                error: \"Error fetching influencers\",\n                details: error.message\n            });\n        } finally{\n            await (0,_db__WEBPACK_IMPORTED_MODULE_0__.closeDb)();\n        }\n    } else if (req.method === \"POST\") {\n        try {\n            const { channelName, channelYoutubeId, category, avgViews, callRequired, engagementRate, topCountriesProportion, richCountriesFollowers, maleFollowers, followerGrowthRate, englishSpeakingFollowers } = req.body;\n            const result = await db.run(`\n                INSERT INTO influencers (\n                    channelName,\n                    channelYoutubeId,\n                    category,\n                    avgViews,\n                    callRequired,\n                    engagementRate,\n                    topCountriesProportion,\n                    richCountriesFollowers,\n                    maleFollowers,\n                    followerGrowthRate,\n                    englishSpeakingFollowers\n                ) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)\n            `, [\n                channelName,\n                channelYoutubeId,\n                category,\n                avgViews,\n                callRequired,\n                engagementRate,\n                topCountriesProportion,\n                richCountriesFollowers,\n                maleFollowers,\n                followerGrowthRate,\n                englishSpeakingFollowers\n            ]);\n            const newInfluencer = await db.get(\"SELECT * FROM influencers WHERE id = ?\", result.lastID);\n            res.status(201).json(newInfluencer);\n        } catch (error) {\n            console.error(\"Error creating influencer:\", error);\n            res.status(500).json({\n                error: \"Error creating influencer\",\n                details: error.message\n            });\n        } finally{\n            await (0,_db__WEBPACK_IMPORTED_MODULE_0__.closeDb)();\n        }\n    } else {\n        res.setHeader(\"Allow\", [\n            \"GET\",\n            \"POST\"\n        ]);\n        res.status(405).end(`Method ${req.method} Not Allowed`);\n    }\n}\n\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaSkvLi9wYWdlcy9hcGkvaW5mbHVlbmNlcnMudHMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7QUFDMEM7QUFFM0IsZUFBZUUsUUFBUUMsR0FBbUIsRUFBRUMsR0FBb0I7SUFDM0UsTUFBTUMsS0FBSyxNQUFNTCwyQ0FBTUE7SUFFdkIsSUFBSUcsSUFBSUcsTUFBTSxLQUFLLE9BQU87UUFDdEIsSUFBSTtZQUNBLE1BQU1DLGNBQWMsTUFBTUYsR0FBR0csR0FBRyxDQUFDO1lBQ2pDSixJQUFJSyxNQUFNLENBQUMsS0FBS0MsSUFBSSxDQUFDSDtRQUN6QixFQUFFLE9BQU9JLE9BQU87WUFDWkMsUUFBUUQsS0FBSyxDQUFDLCtCQUErQkE7WUFDN0NQLElBQUlLLE1BQU0sQ0FBQyxLQUFLQyxJQUFJLENBQUM7Z0JBQUVDLE9BQU87Z0JBQThCRSxTQUFTLE1BQWlCQyxPQUFPO1lBQUM7UUFDbEcsU0FBVTtZQUNOLE1BQU1iLDRDQUFPQTtRQUNqQjtJQUNKLE9BQU8sSUFBSUUsSUFBSUcsTUFBTSxLQUFLLFFBQVE7UUFDOUIsSUFBSTtZQUNBLE1BQU0sRUFDRlMsV0FBVyxFQUNYQyxnQkFBZ0IsRUFDaEJDLFFBQVEsRUFDUkMsUUFBUSxFQUNSQyxZQUFZLEVBQ1pDLGNBQWMsRUFDZEMsc0JBQXNCLEVBQ3RCQyxzQkFBc0IsRUFDdEJDLGFBQWEsRUFDYkMsa0JBQWtCLEVBQ2xCQyx3QkFBd0IsRUFDM0IsR0FBR3RCLElBQUl1QixJQUFJO1lBRVosTUFBTUMsU0FBUyxNQUFNdEIsR0FBR3VCLEdBQUcsQ0FBQyxDQUFDOzs7Ozs7Ozs7Ozs7OztZQWM3QixDQUFDLEVBQUU7Z0JBQ0NiO2dCQUNBQztnQkFDQUM7Z0JBQ0FDO2dCQUNBQztnQkFDQUM7Z0JBQ0FDO2dCQUNBQztnQkFDQUM7Z0JBQ0FDO2dCQUNBQzthQUNIO1lBRUQsTUFBTUksZ0JBQWdCLE1BQU14QixHQUFHeUIsR0FBRyxDQUFDLDBDQUEwQ0gsT0FBT0ksTUFBTTtZQUMxRjNCLElBQUlLLE1BQU0sQ0FBQyxLQUFLQyxJQUFJLENBQUNtQjtRQUN6QixFQUFFLE9BQU9sQixPQUFPO1lBQ1pDLFFBQVFELEtBQUssQ0FBQyw4QkFBOEJBO1lBQzVDUCxJQUFJSyxNQUFNLENBQUMsS0FBS0MsSUFBSSxDQUFDO2dCQUFFQyxPQUFPO2dCQUE2QkUsU0FBUyxNQUFpQkMsT0FBTztZQUFDO1FBQ2pHLFNBQVU7WUFDTixNQUFNYiw0Q0FBT0E7UUFDakI7SUFDSixPQUFPO1FBQ0hHLElBQUk0QixTQUFTLENBQUMsU0FBUztZQUFDO1lBQU87U0FBTztRQUN0QzVCLElBQUlLLE1BQU0sQ0FBQyxLQUFLd0IsR0FBRyxDQUFDLENBQUMsT0FBTyxFQUFFOUIsSUFBSUcsTUFBTSxDQUFDLFlBQVksQ0FBQztJQUMxRDtBQUNKIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vaW5mbHVlbmNlci1wb3J0YWwvLi9wYWdlcy9hcGkvaW5mbHVlbmNlcnMudHM/YmFiYyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgdHlwZSB7IE5leHRBcGlSZXF1ZXN0LCBOZXh0QXBpUmVzcG9uc2UgfSBmcm9tICduZXh0J1xuaW1wb3J0IHsgb3BlbkRiLCBjbG9zZURiIH0gZnJvbSAnLi4vLi4vZGInXG5cbmV4cG9ydCBkZWZhdWx0IGFzeW5jIGZ1bmN0aW9uIGhhbmRsZXIocmVxOiBOZXh0QXBpUmVxdWVzdCwgcmVzOiBOZXh0QXBpUmVzcG9uc2UpIHtcbiAgICBjb25zdCBkYiA9IGF3YWl0IG9wZW5EYigpO1xuXG4gICAgaWYgKHJlcS5tZXRob2QgPT09ICdHRVQnKSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBjb25zdCBpbmZsdWVuY2VycyA9IGF3YWl0IGRiLmFsbCgnU0VMRUNUICogRlJPTSBpbmZsdWVuY2VycycpO1xuICAgICAgICAgICAgcmVzLnN0YXR1cygyMDApLmpzb24oaW5mbHVlbmNlcnMpO1xuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgY29uc29sZS5lcnJvcignRXJyb3IgZmV0Y2hpbmcgaW5mbHVlbmNlcnM6JywgZXJyb3IpO1xuICAgICAgICAgICAgcmVzLnN0YXR1cyg1MDApLmpzb24oeyBlcnJvcjogJ0Vycm9yIGZldGNoaW5nIGluZmx1ZW5jZXJzJywgZGV0YWlsczogKGVycm9yIGFzIEVycm9yKS5tZXNzYWdlIH0pO1xuICAgICAgICB9IGZpbmFsbHkge1xuICAgICAgICAgICAgYXdhaXQgY2xvc2VEYigpO1xuICAgICAgICB9XG4gICAgfSBlbHNlIGlmIChyZXEubWV0aG9kID09PSAnUE9TVCcpIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGNvbnN0IHtcbiAgICAgICAgICAgICAgICBjaGFubmVsTmFtZSxcbiAgICAgICAgICAgICAgICBjaGFubmVsWW91dHViZUlkLFxuICAgICAgICAgICAgICAgIGNhdGVnb3J5LFxuICAgICAgICAgICAgICAgIGF2Z1ZpZXdzLFxuICAgICAgICAgICAgICAgIGNhbGxSZXF1aXJlZCxcbiAgICAgICAgICAgICAgICBlbmdhZ2VtZW50UmF0ZSxcbiAgICAgICAgICAgICAgICB0b3BDb3VudHJpZXNQcm9wb3J0aW9uLFxuICAgICAgICAgICAgICAgIHJpY2hDb3VudHJpZXNGb2xsb3dlcnMsXG4gICAgICAgICAgICAgICAgbWFsZUZvbGxvd2VycyxcbiAgICAgICAgICAgICAgICBmb2xsb3dlckdyb3d0aFJhdGUsXG4gICAgICAgICAgICAgICAgZW5nbGlzaFNwZWFraW5nRm9sbG93ZXJzXG4gICAgICAgICAgICB9ID0gcmVxLmJvZHk7XG5cbiAgICAgICAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IGRiLnJ1bihgXG4gICAgICAgICAgICAgICAgSU5TRVJUIElOVE8gaW5mbHVlbmNlcnMgKFxuICAgICAgICAgICAgICAgICAgICBjaGFubmVsTmFtZSxcbiAgICAgICAgICAgICAgICAgICAgY2hhbm5lbFlvdXR1YmVJZCxcbiAgICAgICAgICAgICAgICAgICAgY2F0ZWdvcnksXG4gICAgICAgICAgICAgICAgICAgIGF2Z1ZpZXdzLFxuICAgICAgICAgICAgICAgICAgICBjYWxsUmVxdWlyZWQsXG4gICAgICAgICAgICAgICAgICAgIGVuZ2FnZW1lbnRSYXRlLFxuICAgICAgICAgICAgICAgICAgICB0b3BDb3VudHJpZXNQcm9wb3J0aW9uLFxuICAgICAgICAgICAgICAgICAgICByaWNoQ291bnRyaWVzRm9sbG93ZXJzLFxuICAgICAgICAgICAgICAgICAgICBtYWxlRm9sbG93ZXJzLFxuICAgICAgICAgICAgICAgICAgICBmb2xsb3dlckdyb3d0aFJhdGUsXG4gICAgICAgICAgICAgICAgICAgIGVuZ2xpc2hTcGVha2luZ0ZvbGxvd2Vyc1xuICAgICAgICAgICAgICAgICkgVkFMVUVTICg/LCA/LCA/LCA/LCA/LCA/LCA/LCA/LCA/LCA/LCA/KVxuICAgICAgICAgICAgYCwgW1xuICAgICAgICAgICAgICAgIGNoYW5uZWxOYW1lLFxuICAgICAgICAgICAgICAgIGNoYW5uZWxZb3V0dWJlSWQsXG4gICAgICAgICAgICAgICAgY2F0ZWdvcnksXG4gICAgICAgICAgICAgICAgYXZnVmlld3MsXG4gICAgICAgICAgICAgICAgY2FsbFJlcXVpcmVkLFxuICAgICAgICAgICAgICAgIGVuZ2FnZW1lbnRSYXRlLFxuICAgICAgICAgICAgICAgIHRvcENvdW50cmllc1Byb3BvcnRpb24sXG4gICAgICAgICAgICAgICAgcmljaENvdW50cmllc0ZvbGxvd2VycyxcbiAgICAgICAgICAgICAgICBtYWxlRm9sbG93ZXJzLFxuICAgICAgICAgICAgICAgIGZvbGxvd2VyR3Jvd3RoUmF0ZSxcbiAgICAgICAgICAgICAgICBlbmdsaXNoU3BlYWtpbmdGb2xsb3dlcnNcbiAgICAgICAgICAgIF0pO1xuXG4gICAgICAgICAgICBjb25zdCBuZXdJbmZsdWVuY2VyID0gYXdhaXQgZGIuZ2V0KCdTRUxFQ1QgKiBGUk9NIGluZmx1ZW5jZXJzIFdIRVJFIGlkID0gPycsIHJlc3VsdC5sYXN0SUQpO1xuICAgICAgICAgICAgcmVzLnN0YXR1cygyMDEpLmpzb24obmV3SW5mbHVlbmNlcik7XG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBjcmVhdGluZyBpbmZsdWVuY2VyOicsIGVycm9yKTtcbiAgICAgICAgICAgIHJlcy5zdGF0dXMoNTAwKS5qc29uKHsgZXJyb3I6ICdFcnJvciBjcmVhdGluZyBpbmZsdWVuY2VyJywgZGV0YWlsczogKGVycm9yIGFzIEVycm9yKS5tZXNzYWdlIH0pO1xuICAgICAgICB9IGZpbmFsbHkge1xuICAgICAgICAgICAgYXdhaXQgY2xvc2VEYigpO1xuICAgICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgICAgcmVzLnNldEhlYWRlcignQWxsb3cnLCBbJ0dFVCcsICdQT1NUJ10pO1xuICAgICAgICByZXMuc3RhdHVzKDQwNSkuZW5kKGBNZXRob2QgJHtyZXEubWV0aG9kfSBOb3QgQWxsb3dlZGApO1xuICAgIH1cbn0iXSwibmFtZXMiOlsib3BlbkRiIiwiY2xvc2VEYiIsImhhbmRsZXIiLCJyZXEiLCJyZXMiLCJkYiIsIm1ldGhvZCIsImluZmx1ZW5jZXJzIiwiYWxsIiwic3RhdHVzIiwianNvbiIsImVycm9yIiwiY29uc29sZSIsImRldGFpbHMiLCJtZXNzYWdlIiwiY2hhbm5lbE5hbWUiLCJjaGFubmVsWW91dHViZUlkIiwiY2F0ZWdvcnkiLCJhdmdWaWV3cyIsImNhbGxSZXF1aXJlZCIsImVuZ2FnZW1lbnRSYXRlIiwidG9wQ291bnRyaWVzUHJvcG9ydGlvbiIsInJpY2hDb3VudHJpZXNGb2xsb3dlcnMiLCJtYWxlRm9sbG93ZXJzIiwiZm9sbG93ZXJHcm93dGhSYXRlIiwiZW5nbGlzaFNwZWFraW5nRm9sbG93ZXJzIiwiYm9keSIsInJlc3VsdCIsInJ1biIsIm5ld0luZmx1ZW5jZXIiLCJnZXQiLCJsYXN0SUQiLCJzZXRIZWFkZXIiLCJlbmQiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(api)/./pages/api/influencers.ts\n");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../webpack-api-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = __webpack_require__.X(0, ["vendor-chunks/next"], () => (__webpack_exec__("(api)/./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Finfluencers&preferredRegion=&absolutePagePath=.%2Fpages%2Fapi%2Finfluencers.ts&middlewareConfigBase64=e30%3D!")));
module.exports = __webpack_exports__;

})();