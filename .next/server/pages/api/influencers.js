"use strict";(()=>{var e={};e.id=814,e.ids=[814],e.modules={3524:e=>{e.exports=require("@prisma/client")},145:e=>{e.exports=require("next/dist/compiled/next-server/pages-api.runtime.prod.js")},6249:(e,t)=>{Object.defineProperty(t,"l",{enumerable:!0,get:function(){return function e(t,a){return a in t?t[a]:"then"in t&&"function"==typeof t.then?t.then(t=>e(t,a)):"function"==typeof t&&"default"===a?t:void 0}}})},6454:(e,t,a)=>{a.r(t),a.d(t,{config:()=>d,default:()=>u,routeModule:()=>c});var n={};a.r(n),a.d(n,{default:()=>i});var o=a(1802),r=a(7153),l=a(6249);let s=new(a(3524)).PrismaClient;async function i(e,t){try{switch(e.method){case"GET":let a=await s.influencer.findMany();t.status(200).json(a);break;case"POST":let n=await s.influencer.create({data:{channelName:e.body.channelName,channelYoutubeId:e.body.channelYoutubeId,category:e.body.category,avgViews:parseInt(e.body.avgViews),engagementRate:parseFloat(e.body.engagementRate),topCountriesProportion:parseFloat(e.body.topCountriesProportion),maleFollowers:parseFloat(e.body.maleFollowers),followerGrowthRate:parseFloat(e.body.followerGrowthRate),englishSpeakingFollowers:parseInt(e.body.englishSpeakingFollowers),country:e.body.country,language:e.body.language}});t.status(201).json(n);break;case"PUT":let{id:o,...r}=e.body,l=await s.influencer.update({where:{id:parseInt(o)},data:{channelName:r.channelName,channelYoutubeId:r.channelYoutubeId,category:r.category,avgViews:parseInt(r.avgViews),engagementRate:parseFloat(r.engagementRate),topCountriesProportion:parseFloat(r.topCountriesProportion),maleFollowers:parseFloat(r.maleFollowers),followerGrowthRate:parseFloat(r.followerGrowthRate),englishSpeakingFollowers:parseInt(r.englishSpeakingFollowers),country:r.country,language:r.language}});t.status(200).json(l);break;case"DELETE":let{id:i}=e.body;await s.influencer.delete({where:{id:parseInt(i)}}),t.status(204).end();break;default:t.setHeader("Allow",["GET","POST","PUT","DELETE"]),t.status(405).end(`Method ${e.method} Not Allowed`)}}catch(e){console.error("Error in influencers API:",e),t.status(500).json({error:"Internal Server Error",details:e.message})}}let u=(0,l.l)(n,"default"),d=(0,l.l)(n,"config"),c=new o.PagesAPIRouteModule({definition:{kind:r.x.PAGES_API,page:"/api/influencers",pathname:"/api/influencers",bundlePath:"",filename:""},userland:n})},7153:(e,t)=>{var a;Object.defineProperty(t,"x",{enumerable:!0,get:function(){return a}}),function(e){e.PAGES="PAGES",e.PAGES_API="PAGES_API",e.APP_PAGE="APP_PAGE",e.APP_ROUTE="APP_ROUTE"}(a||(a={}))},1802:(e,t,a)=>{e.exports=a(145)}};var t=require("../../webpack-api-runtime.js");t.C(e);var a=t(t.s=6454);module.exports=a})();